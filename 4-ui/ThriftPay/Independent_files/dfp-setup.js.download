!function(){"use strict";var e=window.MEDIAHUIS,t=e.pubsub,i=e.user;function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,d(e,t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){requestAnimationFrame((function(){(document.querySelector(".channel.js-swipe-slide--active")||document.documentElement).classList.add("layout-"+e)}))}var c=document.createElement("style");c.setAttribute("type","text/css"),document.body.appendChild(c);var g=c.sheet,p=(c.sheet,function(e){null!=g&&("ad--hps"===e&&g.insertRule(".ad--halfpage_skyscraper \n        { \n          margin-left: 21.53125rem; \n         } ",0),"ad-group--hps"===e&&g.insertRule(".ad-group--halfpage_skyscrapers \n        { \n          margin-left: 21.53125rem !important; \n        }",0))});window.MEDIAHUIS.config;function f(e,t,i){i&&(e[t]=i)}var h=function(e){},m=h;-1!==window.location.search.indexOf("pbjs_debug=true")&&(h=Function.prototype.bind.call(console.log,console,"%cKa-Ching","display: inline-block; color: #F2F3EF; background: #E8634E; padding: 1px 4px; border-radius: 3px;"),m=Function.prototype.bind.call(console.warn,console,"%cKa-Ching","display: inline-block; color: #F2F3EF; background: #E8634E; padding: 1px 4px; border-radius: 3px;"));var v=h,b=function(){function e(){}return e.track=function(){},e.exception=function(){},e.state=function(){return!1},e}(),_=function e(t){for(var i,n,r=function(e,t){return e>>>t|e<<32-t},a=Math.pow,o=a(2,32),s="",d=[],u=8*t.length,l=e.h=e.h||[],c=e.k=e.k||[],g=c.length,p={},f=2;g<64;f+=1)if(!p[f]){for(i=0;i<313;i+=f)p[i]=f;l[g]=a(f,.5)*o|0,c[g]=a(f,1/3)*o|0,g+=1}for(t+="Â€";t.length%64-56;)t+="\0";for(i=0;i<t.length;i+=1){if((n=t.charCodeAt(i))>>8)return;d[i>>2]|=n<<(3-i)%4*8}for(d[d.length]=u/o|0,d[d.length]=u,n=0;n<d.length;){var h=d.slice(n,n+=16),m=l;for(l=l.slice(0,8),i=0;i<64;i+=1){var v=h[i-15],b=h[i-2],_=l[0],y=l[4],w=l[7]+(r(y,6)^r(y,11)^r(y,25))+(y&l[5]^~y&l[6])+c[i]+(h[i]=i<16?h[i]:h[i-16]+(r(v,7)^r(v,18)^v>>>3)+h[i-7]+(r(b,17)^r(b,19)^b>>>10)|0);(l=[w+((r(_,2)^r(_,13)^r(_,22))+(_&l[1]^_&l[2]^l[1]&l[2]))|0].concat(l))[4]=l[4]+w|0}for(i=0;i<8;i+=1)l[i]=l[i]+m[i]|0}for(i=0;i<8;i+=1)for(n=3;n+1;n-=1){var x=l[i]>>8*n&255;s+=(x<16?0:"")+x.toString(16)}return s};var y=function(e,t,i,n){return void 0===t&&(t=!1),void 0===i&&(i=[]),void 0===n&&(n=void 0),new Promise((function(r,a){if("undefined"==typeof document)return r();var o=document.createElement("script");return t&&(o.async=!0),i.length&&i.forEach((function(e){o.setAttribute(e.name,e.value)})),o.src=e,o.onload=r,o.onerror=a,n?n.appendChild(o):(n=document.getElementsByTagName("script")[0])&&n.parentNode&&n.parentNode.insertBefore(o,n),null}))};function w(e,t){void 0===t&&(t={bubbles:!1,cancelable:!1,detail:void 0});var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail),i}w.prototype=Event.prototype;var x="function"!=typeof CustomEvent?w:CustomEvent;function S(e,t){var i=new x(e,{detail:t});document.dispatchEvent(i)}var I,P="render.init",k="render.complete",E=function(e,t){setTimeout((function(){v("emitting on channel KaChing."+e,t),I("KaChing."+e,t)}),0)},A="preload",j="defineSlot",C="start",z="beforeInit",T="init",M="beforePublish",O="afterInit",U="finish",B="reset",R="destroy",q=function(){function e(){}return e.run=function(e,t,i){var n=t.map((function(t){if(!t[e])return null;var n=t[e];return v("[ADAPTER "+t.getName()+"] "+e),n.call(t,i)}));return Promise.all(n)},e.remove=function(e,t){return t.filter((function(t){return!e.test(t.getName())}))},e}(),F=function(e){void 0===e&&(e=void 0);var t=window.location,i=t.search,n=t.href,r=RegExp("independent.ie").test(n)?n:void 0;return new URLSearchParams(i).get("url")||e||r||"https://independent.ie"},D=function(){function e(e){a(this,"name","DFP"),a(this,"_slots",[]),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],this.googletag=window.googletag,e.blockads||y("https://securepubads.g.doubleclick.net/tag/js/gpt.js")}var t=e.prototype;return t._registerSlot=function(e,t){var i,n,r=e.get("adunit");if(n=t.publisherId?t.publisherId+"/"+r:e.adUnit,t.isOutOfPage)i=this.googletag.defineOutOfPageSlot(n,t.elementId);else if(t.interstitial){var a=(i=this.googletag.defineOutOfPageSlot(n,this.googletag.enums.OutOfPageFormat.INTERSTITIAL)).getSlotElementId();t.elementId=a}else{var o=e.get("adFormats");i=this.googletag.defineSlot(n,o[t.format].sizes||o[t.format],t.elementId)}return i?(t.sizeMapping&&t.sizeMapping.length&&function(e,t,i){var n=e.sizeMapping();i.forEach((function(e){var t=e[0],i=e[1];n.addSize(t,i)})),t.defineSizeMapping(n.build())}(this.googletag,i,t.sizeMapping),t.isVideoCompanion&&i.addService(this.googletag.companionAds()),i.addService(this.googletag.pubads()),this.setSlotTargeting(i,t)):v("[SLOT]",document.querySelectorAll("#"+t).length+" ad positions found with "+t+" id"),i},t.display=function(e,t){var i=this;Array.isArray(t)||(t=[t]);var n=[];return t.forEach((function(t){if(t&&!t.isDisplayed()){var r=i._registerSlot(e,t);n.push(t),v("[SLOT]","displaying "+t),t.displayed=!0,t.setDfpSlot(r),i.googletag.display(t.elementId)}})),n},t.refresh=function(e){e=Array.isArray(e)?e:[e],this.googletag.pubads().refresh(e)},t.setTargeting=function(e,t){var i=this;this.googletag.cmd.push((function(){v("adding "+e+" ("+t+") to DFP request."),i.googletag.pubads().setTargeting(e,t)}))},t.setSlotTargeting=function(e,t){for(var i in t.targeting)t.targeting[i]&&(v("adding "+i+" ("+t.targeting[i]+") to slot "+t+"."),e.setTargeting(i,t.targeting[i]))},t.clearTargeting=function(){var e=this;this.googletag.cmd.push((function(){v("clearing the key-values from the DFP request."),e.googletag.pubads().clearTargeting()}))},t.sizeMapping=function(){var e=this;return new Promise((function(t){e.googletag.cmd.push((function(){t(e.googletag.sizeMapping())}))}))},t.setRequestNonPersonalizedAds=function(e){var t=this;this.googletag.cmd.push((function(){v("adding non personalised ads value ("+e+") to DFP request."),t.googletag.pubads().setRequestNonPersonalizedAds(e)}))},t.beforeFirstPublish=function(e){var t=this,i=e.config,n=e.event;return new Promise((function(e){t.googletag.cmd.push((function(){t.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t,r,a=i.get("features")||{},o=e.slot,s=e.isEmpty,d=e.size,u=o.getResponseInformation()||{},l=n.slots.find((function(e){return e.elementId===o.getSlotElementId()})),c={identifier:l.identifier,format:l.format,slot:l.slot||null,isEmpty:!!s||!!o.getHtml().match(/EMPTY AD/),size:d};s||(l.visibilityData.lineItemId=null==(t=u.lineItemId)?void 0:t.toString(),l.visibilityData.orderId=u.campaignId,l.visibilityData.creativeId=null==(r=u.creativeId)?void 0:r.toString(),l.visibilityData.size=d,u.advertiserId.toString().match(null)&&(l.visibilityData.hbBidder=o.getTargeting("hb_bidder")[0]));var g=o.getTargeting("hb_size");if(d&&1===d[0]&&1===d[1]&&g&&g.length)try{c.size=g[0].split("x").map(Number)}catch(p){}l.context=c,E(P,c),s&&!a.blockEventCompleteOnEmpty&&(m("[DEPRECATED] blockEventCompleteOnEmpty is false: we still send render complete messages even when it's empty."),E(k,c))})),t.googletag.pubads().addEventListener("slotOnload",(function(e){var t=e.slot,i=n.slots.find((function(e){return e.elementId===t.getSlotElementId()}));E(k,i.context)})),t.googletag.pubads().collapseEmptyDivs(null);var e=F(i.get("pageUrl"));t.googletag.pubads().set("page_url",e),t.googletag.pubads().enableAsyncRendering(),t.googletag.pubads().enableSingleRequest(),t.googletag.pubads().disableInitialLoad(),t.googletag.enableServices()})),e()}))},t.publish=function(e){var t=this,i=e.config,n=e.event;return new Promise((function(e){t.googletag.cmd.push((function(){i.get("video")&&(t.googletag.companionAds().setRefreshUnfilledSlots(!0),t.googletag.pubads().enableVideoAds());var r=i.get("lazyload")||{fetchMarginPercent:25,renderMarginPercent:10,mobileScaling:2,scatterSlots:!1};t.googletag.pubads().enableLazyLoad?t.googletag.pubads().enableLazyLoad({fetchMarginPercent:r.fetchMarginPercent,renderMarginPercent:r.renderMarginPercent,mobileScaling:r.mobileScaling}):v("[DFP] Lazyload not available - ad blocker likely active");var a,o=t.display(i,n.slots),s=(a="group",o.reduce((function(e,t){var i=t[a];return e[i]=(e[i]||[]).concat(t),e}),{}));return q.run(M,i.adapters,{config:i,dfp:t,event:{slots:o}}).then((function(){return v("send request"),Object.keys(s).forEach((function(e){if("None"===e&&r.scatterSlots)s[e].forEach((function(e){t.googletag.pubads().refresh([e.dfpSlot])}));else{var i=s[e].reduce((function(e,t){return e.push(t.dfpSlot)&&e}),[]);t.googletag.pubads().refresh(i)}})),e()}))}))}))},t._getPubIdFromAdUnitPath=function(e){var t=null;return e.slot&&e.slot.getAdUnitPath&&(t=e.slot.getAdUnitPath().split("/")[1]),t},t.destroySlots=function(e){var t=this;return void 0===e&&(e=void 0),new Promise((function(i){t.googletag.cmd.push((function(){if(e){var n=[];e.event.slots.forEach((function(e){!0===e.toDestroy()&&e.dfpSlot&&n.push(e.dfpSlot)})),t.googletag.destroySlots(n)}else t.googletag.destroySlots();i()}))}))},e}();var N=function(){function e(){a(this,"name","Targeting")}var t=e.prototype;return t.beforeInit=function(e){var t=e.config,i=(e.dfp,t.get("targeting")),n=t.get("adunit"),r=Math.random()>=.1?"a":"b",a=new URLSearchParams(window.location.search).get("gamtest");a&&(i.gamtest=a);var s=t.get("guid"),d=s?_(s):null;t.set("targeting",o({},i,{adunit:n,testGroup:r,guid:d}))},t.beforePublish=function(e){var t=e.config,i=e.dfp,n=t.get("targeting");Object.keys(n).forEach((function(e){n[e]&&i.setTargeting(e,n[e])}))},e}(),V=function(){function e(){a(this,"name","Responsive")}return e.prototype.defineSlot=function(e){var t=e.config,i=e.event.slot,n=t.get("adFormats");if(n&&n[i.format]&&n[i.format].sizeMapping){var r=n[i.format].sizeMapping;if(!r)return;var a=[];for(var o in a.push([[0,0],[]]),r){var s=[Number(o),0];a.push([s,r[o]])}i.setSizeMapping(a)}},e}(),L="https://pubads.g.doubleclick.net/gampad/ads",W=function(){function e(){a(this,"id",null),a(this,"name","Vast"),a(this,"_lastEvent",null),a(this,"hasPublished",!1),a(this,"_vastUrl",L)}var t=e.prototype;return t.init=function(e){var t=e.config;this.hasPublished=!1,this._lastEvent=null;var i=t.get("videoTargeting"),n=t.get("targeting");t.set("videoTargeting",o({},n,i))},t._publish=function(e){var t={format:this.name.toLowerCase(),isEmpty:!1,url:e,size:null,slot:null};this._lastEvent=t,E(P,t),E(k,t)},t.getUrl=function(e){return null},t.addVastSize=function(){this._vastUrl+="?"},t.addCompanionSizes=function(e){e.config,e.event},t.addCMSId=function(){},t.addTargeting=function(e){var t=e.config.get("videoTargeting");if(t){var i=Object.keys(t).length;this.log("Adding video targeting (count: "+i+") to VAST tag");var n=Object.keys(t).map((function(e){return e+"="+t[e]})).filter(Boolean);if(n.length){var r=encodeURIComponent(n.join("&"));this._vastUrl+="&cust_params="+r}}},t.beforePublish=function(e){var t=e.config;if(!this.hasPublished){this.addVastSize(),this._vastUrl+="&ad_type="+this.name.toLowerCase()+"&iu="+t.adUnit+"&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url="+encodeURIComponent(F(t.get("pageUrl")))+"&description_url="+encodeURIComponent(F(t.get("pageUrl")))+"&correlator=[timestamp]&ad_rule=1",this.id&&(this._vastUrl+="&vid="+this.id);var i=t.get("creativeProfile")||null;i&&(this._vastUrl+="&pp="+encodeURIComponent(i)),this.addCompanionSizes(e),this.addCMSId(),this.addTargeting(e),this._publish(this._vastUrl)}},t.afterInit=function(e){var t=e.config;this._vastUrl=L,t.get("blockads")&&this._publish("")},e}(),H=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return a(u(t=e.call.apply(e,[this].concat(n))||this),"id",null),a(u(t),"name","Video"),t}s(t,e);var i=t.prototype;return i.init=function(t){var i=t.config,n=i.get("videoTargeting");i.set("videoTargeting",o({},n,{vast_type:"video"})),e.prototype.init.call(this,t)},i.getUrl=function(e){if(void 0===e&&(e=null),!this._lastEvent||!this._lastEvent.url)return this.id=e,null;var t=this._lastEvent.url;if(e&&(t+="&vid="+e),e){var i=encodeURIComponent("videoId="+e+"&");t=t.replace(/(.*cust_params=)(.*)/,"$1"+i+"$2")}return t},i.addVastSize=function(){this._vastUrl+="?sz=620x345"},i.addCompanionSizes=function(e){var t=e.config,i=e.event,n=t.get("adFormats"),r=i.slots.filter((function(e){return e.isVideoCompanion})).map((function(e){return n[e.format].sizes.filter(Array.isArray).map((function(e){return e.join("x")})).join("|")})).join(",");r&&(this._vastUrl+="&ciu_szs="+r)},i.addCMSId=function(){},i.beforePublish=function(t){e.prototype.beforePublish.call(this,t)},i.afterInit=function(t){e.prototype.afterInit.call(this,t)},t}(W),K=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return a(u(t=e.call.apply(e,[this].concat(n))||this),"name","Audio"),t}s(t,e);var i=t.prototype;return i.init=function(t){var i=t.config,n=i.get("videoTargeting");i.set("videoTargeting",o({},n,{vast_type:"audio"})),e.prototype.init.call(this,t)},i.getUrl=function(){return this._lastEvent?this._lastEvent.url:null},i.addVastSize=function(){return this._vastUrl+="?sz=1x1"},i.addCMSId=function(){},i.beforePublish=function(t){e.prototype.beforePublish.call(this,t)},i.afterInit=function(t){e.prototype.afterInit.call(this,t)},t}(W),G=function(){function e(){var e=this;a(this,"name","Cxense"),a(this,"_key","pdl"),a(this,"_prop","pageViewId"),a(this,"_getSegments",(function(e){var t=[];if(window.localStorage&&window.localStorage.getItem){v("get segments from storage");try{var i=window.localStorage.getItem(e);if(null===i)throw b.exception("Segments not found in storage"),new Error("Segments not found in storage");t=JSON.parse(i)}catch(n){b.exception(n),v(n.message)}}else v("Storage api not found");return t})),a(this,"_getUser",(function(){var e=null;if(window.localStorage&&window.localStorage.getItem){v("get userid from storage");try{e=window.localStorage.getItem("adv_userid")}catch(t){b.exception(t),v(t.message)}}else v("Storage api not found");return e})),a(this,"_sync",(function(){return e._read()||e._write()})),a(this,"_read",(function(){if(window.cX&&window.cX.getRandomId){var e=window.cX.getRandomId();return v("get randomId="+e+" from cX"),e}return!1})),a(this,"_write",(function(){return window[e._key]={},window[e._key][e._prop]=e._randomString(),v("set "+e._key+"="+JSON.stringify(window[e._key])+" to global window"),window[e._key][e._prop]})),a(this,"_randomString",(function(){for(var e="",t="abcdefghijklmnopqrstuvwxyz0123456789",i=0;i<16;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}))}return e.prototype.beforeInit=function(e){var t=this,i=e.config,n=i.get("targeting"),r={};[{name:"CxSegments",storage:"adv_identity"}].forEach((function(e){r[e.name]=t._getSegments(e.storage)})),i.set("targeting",o({},n,r,{cxid:this._getUser(),cxsiteid:"",cxprnd:this._sync()})),b.track(this.getName(),{name:"beforeInit"})},e}(),X=function(){function e(){a(this,"name","SlotTargeting")}return e.prototype.defineSlot=function(e){var t=e.event.slot;t.setTargeting("format",t.format),t.setTargeting("slot",t.slot),t.setTargeting("slot_id",t.identifier),t.setTargeting("alias",t.alias)},e}(),$=function(){function e(e,t,i){void 0===i&&(i={}),a(this,"_displayed",!1),a(this,"_destroy",!1),a(this,"_elementId",null),a(this,"context",null),this.format=e,this.slot=t,this.options=i,this.el=this.options.el,this.el&&("string"==typeof this.el&&(this.el=document.querySelector(this.el)),this.el&&!this.el.id&&(this.el.id=this.identifier+"--kc"+(new Date).getTime()))}var t=e.prototype;return t.isDisplayed=function(){return this._displayed},t.toDestroy=function(){return this._destroy},t.toString=function(){return this.identifier},r(e,[{key:"identifier",get:function(){var e=this.format;return this.slot&&(e=e+"-"+this.slot),"ad_"+e}},{key:"elementId",get:function(){return this.el?this.el.id:this._elementId?this._elementId:this.identifier},set:function(e){this._elementId=e}},{key:"displayed",set:function(e){this._displayed=e}},{key:"destroy",set:function(e){this._destroy=e}}]),e}(),J=function(e){function t(t,i,n){var r;void 0===n&&(n={}),a(u(r=e.call(this,t,i,n)||this),"context",null),r.format=t,r.slot=i,r.visibilityData={lineItemId:void 0,orderId:void 0,creativeId:void 0,hbBidder:void 0,size:null,timer:void 0,timeInView:0,refreshAllowed:!0,refreshCount:0,apiData:{}};var s=r.options,d=s.adUnit,l=s.adunit,c=s.group,g=s.alias,p=s.targeting,f=r.options,h=f.isOutOfPage,m=f.interstitial,v=f.isVideoCompanion;return n.publisherId?r.publisherId=n.publisherId:r.publisherId="7380",r.adunit=d||l,r.adunit=r.adunit?r.publisherId+"/"+r.adunit:null,r.group=c||r.adunit||"None",r.isOutOfPage=!!h,r.interstitial=!!m,r.alias=g&&g.replace(/\s/g,""),r.targeting=o({},p)||{},r.sizeMapping=null,r.prebid,r.dfpSlot,r.isVideoCompanion=!!v,r.prebidAdunitConfig={},r}s(t,e);var i=t.prototype;return i.setTargeting=function(e,t){null!=t&&(this.targeting[e]=t,v("adding "+e+" ("+t+") to ad "+this.format+" - "+this.slot+"."))},i.setSizeMapping=function(e){return this.sizeMapping=e,this},i.setDfpSlot=function(e){this.dfpSlot=e},i.definePrebid=function(e){return this.prebid=o({},e),this},t}($),Q=function(){function e(e,t,i){this.name=e,this.alias=t,this.adTypes=i,this.isVideo=!1}var t=e.prototype;return t.getAdTypes=function(e){return this.adTypes[e]},t.setPbjs=function(e){return this.alias!=this.name&&e.aliasBidder(this.name,this.alias),e},e}(),Y=function(e){function t(t,i){return e.call(this,"sharedId",t,{})||this}return s(t,e),t}(function(){function e(e,t,i){void 0===i&&(i=void 0),this.name=e,this.params=t,this.storage=o({type:"html5",name:this.name,expires:90,refreshInSeconds:28800},i)}return e.prototype.getConfig=function(){return{name:this.name,params:this.params,storage:this.storage}},e}()),Z=Object.freeze({__proto__:null,sharedid:Y}),ee=function(){function e(){}var t=e.prototype;return t.getBreakpoint=function(){return window.innerWidth>728?"d":"m"},t.getPrimarySize=function(e,t,i){return t[0]},t.getpbAlias=function(e,t,i,n){return"independent_"+n+"_"+e.format+"-"+e.slot+"_"+i},e.fixSections=function(e){return e?Array.isArray(e)||(e=(e=e.split("/")).filter((function(e){return""!=e}))):e=[],e},e}();a(ee,"setAllConfigs",(function(e,t){var i=t.config;e.setConfig({debug:-1!==window.location.search.indexOf("pbjs_debug=true")});e.setConfig({consentManagement:{cmpApi:"iab",timeout:8e3,defaultGdprScope:!0}});var n={banner:{buckets:[{precision:2,max:20,increment:.01}]},native:{buckets:[{precision:2,max:20,increment:.01}]},"video-outstream":{buckets:[{precision:2,max:20,increment:.01}]},"video-instream":{buckets:[{precision:2,max:35,increment:.1}]}};n&&e.setConfig({mediaTypePriceGranularity:n}),e.setConfig({currency:{adServerCurrency:"EUR",granularityMultiplier:1,defaultRates:{USD:{EUR:1,GBP:.87},EUR:{GBP:.9}}}}),e.setConfig({userSync:{filterSettings:{all:{bidders:["rubicon","pubmatic","sovrn","openx","appnexus","triplelift","adkernel","criteo","justpremium","invibes","improve"],filter:"include"}}}});e.setConfig({useBidCache:!1});var r=i.get("targeting"),a=r.lang;e.setConfig({ortb2:{wlang:[a||"en"],site:{name:"independent",domain:document.domain,page:document.URL,ref:document.referrer,content:{language:a||"en"},ext:{data:r}}}});var o=[{name:"sharedid"}].reduce((function(e,t){var i=Z[t.name];try{var n=new i(t.params);e.push(n.getConfig())}catch(r){b.exception(r),v("[HELPER]","User Sync "+t.name+" could not be loaded, "+r)}return e}),[]);return e.setConfig({userSync:{userIds:o}}),e.setConfig({bidderTimeout:1e3}),e}));var te=function(e){function t(t){var i;return(i=e.call(this,"rubicon",t,{banner:!0,video:!0})||this).url="//fastlane.rubiconproject.com",i}s(t,e);var i=t.prototype;return i.getParams=function(e,t,i,n){var r=n.page,a=n.targeting,s=n.platform,d=n.adunit,u=r.type,l=r.sections,c=r.taglist,g=a.lang?a.lang:"en";g=Array.isArray(g)?g:[g];var p=a.packs?a.packs:"";p=Array.isArray(p)?p:[p];var f={};"video"===e.identifier&&(f={siteId:67090,zoneId:316880,video:{size_id:201,language:g[0]}},this.isVideo=!0);var h=o({siteId:"MOB"===s?353704:35254,zoneId:"MOB"===s?1883590:146856,accountId:"11602",inventory:{brand:["independent"],section:[ee.fixSections(l)[0]||""],subsection:[ee.fixSections(l)[1]||""],sectiontree:[e.adunit||d],pagetype:[u],articletag:c||[""],slot:[e.slot||""],slot_id:[e.identifier],format:[e.format],packs:p,lang:g},visitor:{},position:e.prebid.position||"atf"},f);return[{name:"CxSegments",storage:"adv_identity"}].forEach((function(e){var t=a[e.name];t&&h.visitor&&(t=Array.isArray(t)?t:[t],h.visitor[e.name]=t)})),h},i.setPbjs=function(e){return e.setConfig({rubicon:{singleRequest:!0}}),e},t}(Q),ie=function(e){function t(t){var i;return(i=e.call(this,"pubmatic",t,{banner:!0,native:!0,video:!0})||this).url="https://hbopenbid.pubmatic.com/",i}return s(t,e),t.prototype.getParams=function(e,t,i,n){var r=n.targeting,a=[];Object.keys(r).forEach((function(e){var t=r[e],i=Array.isArray(t)?t.join(","):t;i&&a.push(e+"="+i)}));var o=a.join("|"),s={publisherId:"159640",adSlot:"independent_"+e.identifier,dctr:o};return"video"===e.identifier&&(this.isVideo=!0),s},t}(Q),ne=function(e){function t(t){var i;return(i=e.call(this,"sovrn",t,{banner:!0})||this).url="//ap.lijit.com/",i.helper=new ee,i.breakpoint=i.helper.getBreakpoint(),i}return s(t,e),t.prototype.getParams=function(e,t,i,n){var r=this.helper.getPrimarySize(e,t,this.breakpoint).join("x");return{tagid:{"728x90":{sovrn:"468984",openx:"539029745"},"970x250":{sovrn:"786456",openx:"542524136"},"300x250":{sovrn:"469219",openx:"539029751"},"300x600":{sovrn:"469218",openx:"539029750"},"620x345":{sovrn:null,openx:"543975550"}}[r]?{"728x90":{sovrn:"468984",openx:"539029745"},"970x250":{sovrn:"786456",openx:"542524136"},"300x250":{sovrn:"469219",openx:"539029751"},"300x600":{sovrn:"469218",openx:"539029750"},"620x345":{sovrn:null,openx:"543975550"}}[r].sovrn:"0"}},t}(Q),re=function(e){function t(t){var i;return(i=e.call(this,"openx",t,{banner:!0,video:!0})||this).url="//independentirl-d.openx.net",i.helper=new ee,i.breakpoint=i.helper.getBreakpoint(),i}s(t,e);var i=t.prototype;return i.getParams=function(e,t,i,n){var r=this.helper.getPrimarySize(e,t,this.breakpoint).join("x"),a={delDomain:"independentirl-d.openx.net",unit:{"728x90":{sovrn:"468984",openx:"539029745"},"970x250":{sovrn:"786456",openx:"542524136"},"300x250":{sovrn:"469219",openx:"539029751"},"300x600":{sovrn:"469218",openx:"539029750"},"620x345":{sovrn:null,openx:"543975550"}}[r]?{"728x90":{sovrn:"468984",openx:"539029745"},"970x250":{sovrn:"786456",openx:"542524136"},"300x250":{sovrn:"469219",openx:"539029751"},"300x600":{sovrn:"469218",openx:"539029750"},"620x345":{sovrn:null,openx:"543975550"}}[r].openx:"0"};return"video"===e.identifier&&(this.isVideo=!0),a},i.setPbjs=function(t){return e.prototype.setPbjs.call(this,t),this.isVideo&&t.setConfig({userSync:{iframeEnabled:!0}}),t},t}(Q),ae=function(e){function t(t,i){var n;void 0===i&&(i={});return(n=e.call(this,"appnexus",t,{banner:!0,outstream:!0,native:!0,video:!0})||this).account=i.account,n.videoPub=i.videoPub,n.videoMob=i.videoMob,n.url="//ib.adnxs.com",n.helper=new ee,n.breakpoint=n.helper.getBreakpoint(),n}s(t,e);var i=t.prototype;return i.getParams=function(e,t,i,n){var r,a={};e.targeting&&e.targeting.article_taglist&&(r=e.targeting.article_taglist,r=Array.isArray(r)?r:[r]);var s=n.targeting.lang,d=s||"en",u=this.helper.getpbAlias(e,t,this.breakpoint,i),l={brand:["independent"],section:[ee.fixSections(n.page.sections)[0]],subsection:[ee.fixSections(n.page.sections)[1]],sectiontree:[e.adunit||n.adunit],pagetype:[n.page.type],articletag:r||n.page.taglist||[""],evid:n.targeting.evid||"",packs:n.targeting.packs||[""],paywall:n.targeting.paywall||"",lang:d};return"mhprivate"===this.alias&&(l.guid=n.targeting.guid),"video"!==i?this.account&&(a={member:this.account,invCode:u,keywords:o({},l,{slot:e.targeting.slot||"",slot_id:e.targeting.slot_id||"",format:e.targeting.format||""})}):(a={placementId:"MOB"===n.platform?this.videoMob:this.videoPub,keywords:l},this.isVideo=!0),[{name:"CxSegments",storage:"adv_identity"}].forEach((function(e){if(a&&a.keywords){var t=n.targeting[e.name];t&&(a.keywords[e.name]=t)}})),a},i.setPbjs=function(t){return e.prototype.setPbjs.call(this,t),this.isVideo&&t.setConfig({cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}}),"tmp"===this.alias&&(t.bidderSettings.tmp={bidCpmAdjustment:function(e){return 1.2*e}}),t},t}(Q),oe=function(e){function t(t){var i;return(i=e.call(this,"triplelift",t,{banner:!0,video:!0,native:!0})||this).url="https://tlx.3lift.com",i}s(t,e);var i=t.prototype;return i.getParams=function(e,t,i,n){var r={inventoryCode:"independent_"+e.format};return"video"===e.identifier&&(r.inventoryCode="independent_"+e.identifier,this.isVideo=!0),r},i.setPbjs=function(t){return e.prototype.setPbjs.call(this,t),this.isVideo&&t.setConfig({cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}}),t},t}(Q),se=function(e){function t(t){var i;return(i=e.call(this,"adkernel",t,{banner:!0})||this).url="",i}return s(t,e),t.prototype.getParams=function(e,t,i,n){return{host:"cpm.convergeselect.net",zoneId:"WWW"===n.platform?"142068":"149428"}},t}(Q),de=function(e){function t(t){var i;return(i=e.call(this,"criteo",t,{banner:!0,native:!0,video:!0})||this).url="//bidder.criteo.com",i}return s(t,e),t.prototype.getParams=function(e,t,i,n){return"video"===e.identifier&&(this.isVideo=!0),{networkId:1e4}},t}(Q),ue=function(e){function t(t){var i;return(i=e.call(this,"justpremium",t,{banner:!0})||this).url="//pre.ads.justpremium.com/",i}return s(t,e),t.prototype.getParams=function(e,t,i,n){return{zone:"148383"}},t}(Q),le=function(e){function t(t){var i;return(i=e.call(this,"invibes",t,{banner:!0,video:!0})||this).url="",i}s(t,e);var i=t.prototype;return i.getParams=function(e,t,i,n){return{placementId:"iv_independent_"+e.identifier,customEndpoint:"https://bid5.videostep.com/Bid/VideoAdContent"}},i.setPbjs=function(t){return e.prototype.setPbjs.call(this,t),t.bidderSettings.invibes={storageAllowed:!0},t},t}(Q),ce=function(e){function t(t){var i;return(i=e.call(this,"improvedigital",t,{banner:!0,video:!0})||this).url="//ice.360yield.com",i.helper=new ee,i.breakpoint=i.helper.getBreakpoint(),i}return s(t,e),t.prototype.getParams=function(e,t,i,n){var r,a=this.helper.getpbAlias(e,t,this.breakpoint,i);e.targeting&&e.targeting.article_taglist&&(r=e.targeting.article_taglist,r=Array.isArray(r)?r:[r]);var o={publisherId:"2231",placementKey:a,keyValues:{brand:["independent"],section:[ee.fixSections(n.page.sections)[0]],subsection:[ee.fixSections(n.page.sections)[1]],sectiontree:[e.adunit||n.adunit],pagetype:[n.page.type],articletag:r||n.page.taglist||[""]}};return[{name:"CxSegments",storage:"adv_identity"}].forEach((function(e){o&&o.keyValues&&n.targeting[e.name]&&(o.keyValues[e.name]=n.targeting[e.name])})),"video"===e.identifier&&(this.isVideo=!0),o},t}(Q),ge=Object.freeze({__proto__:null,rubicon:te,pubmatic:ie,sovrn:ne,openx:re,appnexus:ae,triplelift:oe,adkernel:se,criteo:de,justpremium:ue,invibes:le,improve:ce});var pe=function(e){return function(t){return e.getAdUnitPath()===t||e.getSlotElementId()===t||e.getTargeting("slot_id")[0]===t}},fe=function(e,t){var i=Object.keys(t).reverse().find((function(t){return e>=Number(t)}));if(i&&i.length)return t[Number(i)]},he=function(){var e=t.prototype;function t(){var e=this;a(this,"name","Prebid"),a(this,"prebidInitPromise",Promise.resolve()),a(this,"isConfigSet",!1),a(this,"generateConfig",(function(t,i){var n,r={},a=e.viewport;return t.reduce((function(t,s){var d=s.prebid,u=d.adTypes,l=d.sizeMapping,c=(d.bidders,function(e,t,i){return e.reduce((function(e,n){return n.match(/banner|video/)?e[n]=fe(t,i):e[n]=fe(t,{}[n]),e}),{})}(u=u||["banner"],a,l));return u.forEach((function(a){var d=[],u=c[a];if(!u||!u.length)return e.log(s.identifier+" has no sizes for this viewport"),t;var l=function(e,t){var i=["video/mp4","video/x-flv","video/quicktime","application/javascript"];switch(e){case"banner":return{banner:{sizes:t}};case"native":return{native:{type:"image",sendTargetingKeys:!1,image:{required:!0,sizes:[300,250],aspect_ratios:[{min_width:300,min_height:250,ratio_width:16,ratio_height:9}]},title:{required:!0,len:80},sponsoredBy:{required:!0},clickUrl:{required:!0},privacyLink:{required:!1},body:{required:!0},icon:{required:!1,sizes:[50,50],aspect_ratios:[{min_width:50,ratio_width:1,ratio_height:1}]}}};case"outstream":return{video:o({context:"outstream",playerSize:t[0],mimes:i,protocols:[1,2,3,4,5,6,7,8],api:[1,2,3,4,5,6],linearity:1,maxduration:120,minduration:5,playbackmethod:[2],skip:0,placement:3},{})};case"video":return{video:o({context:"instream",playerSize:t[0],mimes:i,protocols:[1,2,3,4,5,6,7,8],api:[1,2,3,4,5,6],linearity:1,maxduration:30,minduration:5,playbackmethod:[3],skip:1,startdelay:0,placement:1},{})};default:return v("[HELPER GETMEDIATYPE]","could not find requested mediaType"),{}}}(a,u);n="outstream"===a?{url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",backupOnly:!0,render:function(e){var t={ad:{video:{content:e.vastXml,player_height:e.playerHeight,player_width:e.playerWidth}}};e.renderer.push((function(){ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:t})}))}}:{},Object.keys(e.bidders).forEach((function(t){e.filterBidder(s,t)||(e.bidders[t].getAdTypes(a)?(r=e.bidders[t].getParams(s,u,a,i),d.push({bidder:t,params:r})):e.log("Mediatype "+a+" is not supported by bidder "+t))}));var g=o({code:s.identifier,mediaTypes:l,renderer:n,bids:d},s.prebidAdunitConfig);t.push(g)})),t}),[])})),window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],this.pbjs=window.pbjs,this.bidders=t.createBidders(),this.viewport=window.innerWidth&&document.documentElement.clientWidth?Math.min(window.innerWidth,document.documentElement.clientWidth):window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth,this.slots=[]}return e.preload=function(e){var t=e.config.get("environment");return t&&/^test$|^preview$/.test(t)?y("https://shared.mediahuis.be/ka-ching/inm/prebid.js?v=7.45.0".replace(/:\/\//,"$&"+t)):y("https://shared.mediahuis.be/ka-ching/inm/prebid.js?v=7.45.0"),Promise.resolve()},e.start=function(){var e=this;Object.keys(this.bidders).forEach((function(t){!function(e){if("undefined"==typeof document)return null;var t=document.createElement("link");t.rel="dns-prefetch preconnect",t.href=e;var i=document.getElementsByTagName("link")[0];i&&i.parentNode&&i.parentNode.insertBefore(t,i)}(e.bidders[t].url),e.log("preconnect "+e.bidders[t].url)}))},e.defineSlot=function(e){var t=e.event.slot,i=[{identifier:["ad_leaderboard-t1","ad_leaderboard-b1","ad_leaderboard-b2"],excludeBidders:["invibes"],sizeMapping:{320:[[320,50]],468:[[320,50],[468,60]],728:[[728,90],[468,60]],970:[[728,90],[970,90],[970,250]]}},{identifier:["ad_leaderboard-b3","ad_leaderboard-b4","ad_leaderboard-b5","ad_leaderboard-b6","ad_leaderboard-b7","ad_leaderboard-b8"],excludeBidders:["invibes"],sizeMapping:{728:[[728,90],[468,60]],970:[[728,90],[970,90],[970,250]]}},{identifier:["ad_rectangle-t1","ad_rectangle-b1","ad_rectangle-b2","ad_rectangle-b3"],excludeBidders:["invibes"],sizeMapping:{320:[[300,600],[300,250]]}},{identifier:["ad_articlerectangle-b1","ad_articlerectangle-b3","ad_articlerectangle-b4","ad_articlerectangle-b5","ad_articlerectangle-b6","ad_articlerectangle-b7","ad_articlerectangle-b8","ad_articlerectangle-b9"],sizeMapping:{320:[[300,250]]}},{identifier:["ad_mediumrectangle-t1","ad_mediumrectangle-b1","ad_mediumrectangle-b3"],excludeBidders:["invibes"],sizeMapping:{320:[[300,250]]}},{identifier:["ad_mediumrectangle-b2"],sizeMapping:{320:[[300,250],[1,1]]}},{identifier:["ad_mediumrectangle-b4","ad_mediumrectangle-b5","ad_mediumrectangle-b6","ad_mediumrectangle-b7","ad_mediumrectangle-b8","ad_mediumrectangle-b9","ad_mediumrectangle-b10"],excludeBidders:["invibes"],sizeMapping:{320:[[300,250]],728:[]}},{identifier:"video",bidders:["rubicon","appnexus","pubmatic","triplelift","criteo","openx","invibes"],adTypes:["video"],sizeMapping:{320:[[620,345]]}}].find((function(e){return e.identifier.indexOf(t.identifier)>-1}));if(i){b.track(this.getName(),{name:"defineSlot Prebid",properties:{format:t.format,slot:t.slot}});var n=i.bidders,r=i.excludeBidders,a=i.sizeMapping,o=i.position,s=i.adTypes;t.definePrebid({bidders:n,excludeBidders:r,sizeMapping:a,position:o,adTypes:s})}},e.init=function(e){var t=this,i=e.config,n=e.event;return this.prebidInitPromise=new Promise((function(r){t.pbjs.que.push((function(){requestAnimationFrame((function(){if(t.slots=n.slots.filter((function(e){return e.prebid})),i.get("video")){var a=[{identifier:["ad_leaderboard-t1","ad_leaderboard-b1","ad_leaderboard-b2"],excludeBidders:["invibes"],sizeMapping:{320:[[320,50]],468:[[320,50],[468,60]],728:[[728,90],[468,60]],970:[[728,90],[970,90],[970,250]]}},{identifier:["ad_leaderboard-b3","ad_leaderboard-b4","ad_leaderboard-b5","ad_leaderboard-b6","ad_leaderboard-b7","ad_leaderboard-b8"],excludeBidders:["invibes"],sizeMapping:{728:[[728,90],[468,60]],970:[[728,90],[970,90],[970,250]]}},{identifier:["ad_rectangle-t1","ad_rectangle-b1","ad_rectangle-b2","ad_rectangle-b3"],excludeBidders:["invibes"],sizeMapping:{320:[[300,600],[300,250]]}},{identifier:["ad_articlerectangle-b1","ad_articlerectangle-b3","ad_articlerectangle-b4","ad_articlerectangle-b5","ad_articlerectangle-b6","ad_articlerectangle-b7","ad_articlerectangle-b8","ad_articlerectangle-b9"],sizeMapping:{320:[[300,250]]}},{identifier:["ad_mediumrectangle-t1","ad_mediumrectangle-b1","ad_mediumrectangle-b3"],excludeBidders:["invibes"],sizeMapping:{320:[[300,250]]}},{identifier:["ad_mediumrectangle-b2"],sizeMapping:{320:[[300,250],[1,1]]}},{identifier:["ad_mediumrectangle-b4","ad_mediumrectangle-b5","ad_mediumrectangle-b6","ad_mediumrectangle-b7","ad_mediumrectangle-b8","ad_mediumrectangle-b9","ad_mediumrectangle-b10"],excludeBidders:["invibes"],sizeMapping:{320:[[300,250]],728:[]}},{identifier:"video",bidders:["rubicon","appnexus","pubmatic","triplelift","criteo","openx","invibes"],adTypes:["video"],sizeMapping:{320:[[620,345]]}}].find((function(e){return"video"===e.identifier}));if(a){var s={alias:"video",identifier:"video",prebid:{bidders:a.bidders,excludeBidders:a.excludeBidders,sizeMapping:a.sizeMapping,adTypes:a.adTypes}};t.slots.push(s)}}var d=t.slots.reduce((function(e,t){return"video"!==t.identifier&&t.isDisplayed()||e.push(t),e}),[]);if(d){var u=t.generateConfig(d,i.settings);t.pbjs.addAdUnits(u),Object.keys(t.bidders).forEach((function(e){t.pbjs=t.bidders[e].setPbjs(t.pbjs)})),t.isConfigSet||(t.pbjs=ee.setAllConfigs(t.pbjs,e),t.isConfigSet=!0)}t.requestBids(d).then((function(){var e=t.pbjs.getHighestCpmBids("video")[0];if(e){var n=i.get("videoTargeting"),a=e.adserverTargeting;t.log("Winning bid from "+e.bidder+" through Prebid Video, adding Prebid targeting to videoTargeting"),i.set("videoTargeting",o({},n,a)),t.log(e)}r()}))}))}))})).then((function(){t.log("resolving prebid init")})),this.prebidInitPromise},e.filterBidder=function(e,t){var i=e.prebid,n=i.excludeBidders||[],r=i.bidders||[];return!(!n.length||!n.includes(t))||!(!r.length||r.includes(t))},e.requestBids=function(e){var t=this;Array.isArray(e)||(e=[e]);var i=this.pbjs.adUnits.filter((function(t){return e.find((function(e){return e.identifier===t.code||"video"===t.code}))})).map((function(e){return e.code}));if(this.log("requesting bids"),!i.length)return Promise.resolve();var n=new Promise((function(e){setTimeout((function(){e({mode:"timeout",adUnits:i})}),2e3)})),r=new Promise((function(e){t.pbjs.requestBids({bidsBackHandler:function(t){e({mode:"requestbids",adUnits:i,args:t})},adUnitCodes:i})}));return Promise.race([n,r]).then((function(e){t.log("bidsBackHandler: "+e.mode+" for "+e.adUnits)}))},e.beforePublish=function(e){var t=this;e.config;return this.prebidInitPromise.then((function(){t.log("add prebid targeting to DFP"),b.track(t.getName(),{name:"Prebid beforePublish"}),t.pbjs.setTargetingForGPTAsync(null,pe)}))},e.afterInit=function(){var e=this;return new Promise((function(t){e.pbjs.que.push((function(){e.pbjs.removeAdUnit("video"),t()}))}))},e.reset=function(){var e=this;return new Promise((function(t){e.pbjs.que.push((function(){e.log("remove Prebid adunits"),e.pbjs.removeAdUnit(),t()}))}))},e.destroy=function(e){var t=this,i=e.event;return new Promise((function(e){t.pbjs.que.push((function(){i.slots.forEach((function(e){"video"!==e.identifier&&!0===e.toDestroy()&&t.pbjs.removeAdUnit(e.identifier)})),e()}))}))},t}();a(he,"createBidders",(function(){var e={},t={appnexus:{account:"12270",videoPub:21124241,videoMob:21124241},tmp:{account:null,videoPub:null,videoMob:null},mhprivate:{account:null,videoPub:null,videoMob:null},impact:{account:null,videoPub:null,videoMob:null}};return(["rubicon","pubmatic","sovrn","openx","appnexus","triplelift","adkernel","criteo","justpremium","invibes","improve"]||[]).forEach((function(i){var n=ge[i];if(n){var r=new n(i,t[i]);e[i]=r}else v("Cannot find bidder "+i)})),e}));var me,ve=function(){function e(){a(this,"name","Insurads")}return e.prototype.preload=function(){return y("https://cdn.insurads.com/bootstrap/MPROLFUG.js",!0),Promise.resolve()},e}(),be=Object.freeze({__proto__:null,targeting:N,responsive:V,video:H,audio:K,cxense:G,slotTargeting:X,prebid:he,insurads:ve}),_e=function(){function e(e){var t=e.adapters,i=e.adFormats,n=e.environment;a(this,"_id","7380"),a(this,"_childId",null),a(this,"_adapters",[]),this._settings={environment:n},this._adFormats=i,this.setAdapters(t)}var t=e.prototype;return t.get=function(e){return"adFormats"===e?this._adFormats:this.settings[e]},t.set=function(e,t){this.settings[e]=t},t.setAdapters=function(e){var t=this;e.forEach((function(e){var i=be[e];if(i){var n=new i;n.getName=function(){return this.name||i.name},-1!==window.location.search.indexOf("pbjs_debug=true")?n.log=Function.prototype.bind.call(console.log,console,"%cKa-Ching","display: inline-block; color: #F2F3EF; background: #E8634E; padding: 1px 4px; border-radius: 3px;","[ADAPTER "+n.getName()+"]"):n.log=function(){},t._adapters.push(n)}else v("Cannot find "+e+" adapter")}))},r(e,[{key:"adUnit",get:function(){return this._childId=this.settings.childId||this._childId,this.publisherId=this._childId?this._id+","+this._childId:this._id,"/"+this.publisherId+"/"+this.settings.adunit}},{key:"settings",get:function(){return this._settings},set:function(e){this._settings=e}},{key:"adapters",get:function(){return this._adapters}}]),e}(),ye=function(e){function t(t,i,n){var r;return void 0===n&&(n={}),a(u(r=e.call(this,t,i,n)||this),"_scriptSet",!1),a(u(r),"script",null),a(u(r),"div",null),a(u(r),"context",null),r.scriptId=[{name:"id",value:"outbrainScript"}],n.params&&(r.attributes=n.params.attributes||[],r.attributes.push({name:"data-src",value:document.URL},{name:"class",value:"OUTBRAIN"})),r}s(t,e);var i=t.prototype;return i.init=function(){var e=this;try{this.div=document.getElementById(this.elementId),this.attributes.forEach((function(t){var i;null==(i=e.div)||i.setAttribute(t.name,t.value)})),this.displayed=!0}catch(t){b.exception(t),v("[DEFINESLOT]","Outbrain tag failed to be created, "+t)}},i.setScript=function(){y("//widgets.outbrain.com/outbrain.js",!0,this.scriptId)},i.isScriptSet=function(){return this.script=document.getElementById(this.scriptId[0].value),this.script&&(this._scriptSet=!0),this._scriptSet},i.destroySlot=function(){if(this.div)for(;this.div.lastElementChild;)this.div.removeChild(this.div.lastElementChild)},t}($),we=function(e){function t(t,i,n){var r;return void 0===n&&(n={params:{attributes:[]}}),a(u(r=e.call(this,t,i,n)||this),"_scriptSet",!1),a(u(r),"script",null),a(u(r),"div",null),a(u(r),"url",null),a(u(r),"context",null),r.scriptId=[{name:"id",value:"blueBillyWigScript"}],r.sizes=[],n.params.attributes.forEach((function(e){r[e.name]=e.value})),r}s(t,e);var i=t.prototype;return i.init=function(e){var t=e.config;this.div=document.getElementById(this.elementId);var i=t.get("targeting"),n=t.get("adunit").split("/"),r="?";i&&(n.forEach((function(e,t){return r+="dfp_adunit_l"+(t+1)+"="+e+"&"})),Object.keys(i).forEach((function(e){var t=i[e];Array.isArray(t)?r+="dart_"+e+"="+t.join(",")+"&":r+="dart_"+e+"="+t+"&"})),r+="dart_vpos=outstream",this.url+=""+r,this.displayed=!0)},i.setScript=function(){this.url&&y(this.url,!0,this.scriptId)},i.isScriptSet=function(){return this.script=document.getElementById(this.scriptId[0].value),this.script&&(this._scriptSet=!0),this._scriptSet},i.destroySlot=function(){if(this.div)for(;this.div.lastElementChild;)this.div.removeChild(this.div.lastElementChild)},t}($),xe=Object.freeze({__proto__:null,outbrain:ye,bluebillywig:we}),Se={blockads:!1,emit:null,page:{type:"unknown"},platform:"WWW",targeting:{}},Ie=function(){function e(e){a(this,"name","Kaching"),a(this,"_ads",[]),a(this,"_cbaAds",[]),this.isInitialRequestFired=!1,this.queue=[],this.initRunning=!1,b.track(this.name,{name:"kachingloaded"}),this._defaultSettings=o({},Se,e),this._config=new _e({adapters:["targeting","responsive","video","audio","cxense","slotTargeting","prebid","insurads"],adFormats:this._defaultSettings.adFormats||{leaderboard:{sizes:[[728,90],[970,250],[970,90],[468,60],[320,50]],sizeMapping:{320:[[320,50]],728:[[728,90],[468,60]],970:[[728,90],[970,250],[970,90]]}},sidead:{sizes:[[170,1086]],sizeMapping:{1400:[[170,1086]]}}},environment:this._defaultSettings.environment}),this._dfp=new D(this._defaultSettings),this.context={event:{slots:this._ads},dfp:this._dfp,config:this._config},q.run(A,this._config.adapters,this.context)}var t=e.prototype;return t.defineSlot=function(e,t,i){var n=this;return!0===this.initRunning?(this.queue.push((function(){return n.defineSlot(e,t,i)})),Promise.resolve()):Promise.resolve().then((function(){if(!1===n.initRunning&&n.callQueue(),b.track(n.name,{name:"defineslot",properties:{format:e,slot:t}}),!n._config._adFormats[e])throw new Error("[DEFINESLOT] format '"+e+"' does not exist, use one of the following: "+Object.keys(n._config._adFormats).toString());var r=[{format:"cba",slot:"outbrain1",cba:"outbrain",params:{attributes:[{name:"data-widget-id",value:"AR_1"}]}},{format:"cba",slot:"outbrain2",cba:"outbrain",params:{attributes:[{name:"data-widget-id",value:"SB_1"}]}},{format:"cba",slot:"bbw1",cba:"bluebillywig",params:{attributes:[{name:"url",value:"https://independent.bbvms.com/a/independent_floating_outstream_desktop_new_test.js"}]}}].find((function(i){return e===i.format&&t===i.slot}));if(r){var a=xe[r.cba],s=r.params;try{var d=new a(e,t,{params:s});return n._cbaAds.push(d),Promise.resolve()}catch(l){b.exception(l),v("[KACHING]","CBASLOT "+r.format+"-"+r.slot+" could not be created, "+l)}return Promise.resolve()}var u=new J(e,t,o({},i));return n._ads.push(u),n.context=o({},n.context,{event:{slot:u,slots:n._ads}}),q.run(j,n._config.adapters,n.context)}))},t._beforeInit=function(){return q.run(z,this._config.adapters,this.context)},t._beforeFirstPublish=function(){return this.isInitialRequestFired?Promise.resolve():this._dfp.beforeFirstPublish(this.context)},t.init=function(e){var t,i=this;if(void 0===e&&(e=void 0),!0===this.initRunning)return this.queue.push((function(){return i.init(e)})),Promise.resolve();if(this.isInitialRequestFired||b.track(this.name,{name:"init"}),this.initRunning=!0,e){var n=o({},this._defaultSettings,e);this._config.settings=o({},this._config.settings,n)}return(t=this._config.get("emit"))&&"function"!=typeof t&&(v("[WARN]","emitter is not a function, falling back to addEventListener"),t=null),t||(t=S),I=t,(this.isInitialRequestFired?Promise.resolve():q.run(C,this._config.adapters,this.context)).then((function(){return i._beforeInit()})).then((function(){return i._config.get("blockads")?Promise.resolve():q.run(T,i._config.adapters,i.context)})).then((function(){return i._config.get("blockads")?Promise.resolve():i._beforeFirstPublish()})).then((function(){return i._config.get("blockads")?(v("[BLOCKADS]","blocking ads for this page request"),i.initRunning=!1,i.callQueue(),Promise.resolve()):i._dfp.publish(i.context)})).then((function(){return q.run(O,i._config.adapters,i.context)})).then((function(){return i.isInitialRequestFired?Promise.resolve():(i.isInitialRequestFired=!0,q.run(U,i._config.adapters,i.context))})).then((function(){return i._config.get("blockads")||i._config.get("allowUnsafe")||i._cbaAds.forEach((function(e){e.isDisplayed()||(e.init(i.context),e.isScriptSet()||e.setScript())})),i.initRunning=!1,i.callQueue(),Promise.resolve()})).catch((function(e){v("end",e)}))},t.getVideoUrl=function(e){if(!this._config.adapters)return null;var t=this._config.adapters.find((function(e){return"Video"===e.getName()}));return t?t.getUrl(e):null},t.getAudioUrl=function(){if(!this._config.adapters)return null;var e=this._config.adapters.find((function(e){return"Audio"===e.getName()}));return e?e.getUrl():null},t.reset=function(){var e=this;return this._cbaAds.forEach((function(e){return e.destroySlot()})),this._cbaAds=[],this._ads.length=0,this._dfp.clearTargeting(),q.run(B,this._config.adapters,this.context).then((function(){return e._dfp.destroySlots()}))},t.destroy=function(e){var t=this,i=[];return Array.isArray(e)||(e=[e]),e.forEach((function(e){var n=t._ads.find((function(t){return t.identifier===e}));n&&(n.destroy=!0,i.push(n))})),i.length?q.run(R,this._config.adapters,this.context).then((function(){return t._dfp.destroySlots(t.context),i.forEach((function(e){var i=t._ads.findIndex((function(t){return e.identifier===t.identifier}));!0===e.toDestroy()&&t._ads.splice(i,1)})),Promise.resolve()})):Promise.resolve()},t.callQueue=function(){return!!this.queue.length&&this.queue.shift()()},e}(),Pe=window.MEDIAHUIS,ke=Pe.config,Ee=Pe.ads,Ae=Pe.pubsub,je=Pe.user;if(Ee){var Ce=function(e,t){var i=e.formats,n={};return Object.keys(i).forEach((function(e){n[e]={sizes:i[e]},t[e]&&Object.keys(t[e])&&(n[e].sizeMapping=t[e])})),n}(Ee,{leaderboard:{970:[[970,250],[970,90],[728,90]],728:[[728,90]],320:[[320,50]]},xlrectangle:{640:[[600,400],[564,376]]},halfpageskyscraper:{1393:[[300,600],[160,600],[120,600]],1250:[[160,600],[120,600]]},sidead:{1340:[[170,1086]]},wallpaper:{1250:[[1,1]]}}),ze=-1!==window.location.search.indexOf("adPreview=0")&&ke.page_adv_dbg_sectiontree?ke.page_adv_dbg_sectiontree:ke.page_adv_sectiontree;ze||(ze=null);var Te=new Ie({adFormats:Ce,environment:ke.environment,features:{blockEventCompleteOnEmpty:!0,slotAsString:!0}});Ee.items=Ee.items||{},function(e,t){document.addEventListener("KaChing.render.init",(function(i){var n=i.detail,r=n.slot,a=n.format,s=n.isEmpty;e.items[a+(r?"-"+r:"")]=n,s?s&&"halfpage_skyscraper"===a&&p("ad-group--hps"):(t.publish("adv/load/"+a,o({},n,{slotName:r,completed:!1})),function(e){var t,i,n,r=e.slot,a=e.format,o=e.size;a.match(/skyscraper|wallpaper|xlrectangle|button/i)&&l(a);switch(a){case"halfpageskyscraper":case"halfpage_skyscraper":i=r?"-"+r:"",n=document.getElementById("ad_"+a+i),requestAnimationFrame((function(){n&&o&&([120,160].includes(o[0])&&p("ad--hps"),n.classList.add("ad--extrawideskyscraper"),l("extrawideskyscraper"))}));break;case"skyscraper":i=r?"-"+r:"",n=document.getElementById("ad_"+a+i),requestAnimationFrame((function(){n&&(t=o&&160===o[0]?"wide":"small",n.classList.add("ad--"+t+"skyscraper"),l(t+"skyscraper"))}));break;case"rectangle":!o||250!==o[1]&&0!==o[1]?l("halfpage"):l("mediumrectangle")}}(n)),"video"===a&&t.publish("adv/video/ready",{url:n.url})}))}(Ee,Ae);var Me=!Ee.slots.length||!!ke.article_blockads||ke.page_extrafields&&ke.page_extrafields.adv_filter&&"noads"===ke.page_extrafields.adv_filter;(me="accountId",new Promise((function(e){i[me]?e(i[me]):t.subscribe("account/getidentity/complete",(function(t){return e(t[me])}))}))).then((function(e){return e&&"string"==typeof e?_(e):null})).then((function(e){return function(e){var t=localStorage.getItem(e),i=localStorage.getItem(e+"_exp"),n=Date.now();if(t){if(!i)return t;if(n<parseInt(i))return t}return null}("hashAI")||function(e,t,i){var n=Date.now()+1e3*i;try{localStorage.setItem(e,t),i&&localStorage.setItem(e+"_exp",n.toString())}catch(r){return b.exception(r),v("[HELPER SETSTORAGE]","Error setting "+e+" in localStorage: "+JSON.stringify(r)),!1}}("hashAI",e||"",60),e})).catch((function(){return null})),ke.guid=localStorage.getItem("hashAI");var Oe=function(e,t){void 0===t&&(t=null);var i={},n={},r=e.article_taglist||[],a=e.page_maintag||"",o=(e.page_secure||!1).toString();if(f(n,"article_taglist",[].concat(r,[a])),f(n,"page_type",e.page_type),f(n,"page_secure",o),f(i,"slot","t1"),t){var s="anon";t.isSubscriber?s="subscribed":t.isLoggedIn&&(s="loggedin"),f(n,"user_state",s)}return e.article_id&&f(n,"article_id",e.article_id),{targeting:n,videoTargeting:i}}(ke,je),Ue=Oe.targeting,Be=Oe.videoTargeting,Re=document.querySelector(".grapeshot-config");if(Re){var qe=JSON.parse(Re.innerHTML.split(","));Ue.gs_channels=qe}else"detail"!==ke.page_type&&(Ue.gs_channels="gv_safe");var Fe=Ee.slots;Fe.forEach((function(e){var t=e[0],i=e[1];"outofpage"===t?Te.defineSlot(t,i,{isOutOfPage:!0}):"button"===t?Te.destroy("ad_button-t1"):Te.defineSlot(t,i)}));var De=[];ke.page_mainsubsectionname&&De.push(ke.page_mainsubsectionname),ke.page_sectionname&&De.push(ke.page_sectionname),Te.init({adunit:ze,blockads:Me,platform:/^(test|preview|hotfix)?m/.test(window.location.hostname)?"MOB":"WWW",page:{sections:De,taglist:ke.article_taglist||[],type:ke.page_type},weather:{zipcode:je.zip},targeting:Ue,video:"video"===ke.article_contenttype||!1,videoTargeting:Be}).then((function(){return Ee.completed=!0,Ee.completed})).catch((function(){}));var Ne,Ve=Array.prototype.push.bind(Fe);Fe.push=function(e){var t,i=e[0],n=e[1];return Ve([i,n]),Te.defineSlot(i,n),t=Ne,"cancelIdleCallback"in window?window.cancelIdleCallback(t):clearTimeout(t),Ne=function(e){if("requestIdleCallback"in window)return window.requestIdleCallback(e);var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)}((function(){Te.init()})),Fe.length}}}();
