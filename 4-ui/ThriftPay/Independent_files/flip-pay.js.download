/*Flip-Pay Version: 1.2.13 Client: mhbe */String.prototype.fpPopulateTemplate=function(e,t){var r=">>"+e+"<<|{{"+e+"}}";return this.replace(new RegExp(r,"g"),t)},String.prototype.fpClearTemplateAnchors=function(){return this.replace(new RegExp(">>.*.<<|{{.*.}}","g"),"")},(()=>{"use strict";const e=JSON.parse('{"cdn_url":"https://cdn.flip-pay.com/","authority":"https://accounts.flip-pay.com","original_authority":"https://accounts.flip-pay.com","base_url_transaction":"https://api.flip-pay.com/v1/"}'),t=JSON.parse('{"version":13,"client_id":"inm","item_group_code":"premium","track_user_actions":true,"track_user_actions_with":["event","api"],"user_actions_to_track":["price_selected","purchase_failed"],"premium_content_by_id":"flip-pay","premium_content_by_class_name":"ep17pricing1","premium_content_by_query":".fp-shopfront-wrapper","home_delivery":{"key":"AIzaSyCb9XKe0y4C5KFrZFm-5UTeZ2xReITBgsA"},"member_center":{},"payment_provider":{"key":"pk_live_d39g14oarVd3jhkzmlZMwz2l005EhgTw9C","payment_request_label":"independent.ie","card_fragment":"split","allow_other_payment_method":true},"auth_settings":{"site":"mhbe"},"redirects":{"default":"/","welcome_page":"https://www.independent.ie/subscription-successful","shopfront_main":"https://subscribe.independent.ie","shopfront_pages":["https://independent.ie/welcome/"]},"metadata_forbiden":true,"google_widget_url":"https://member.independent.ie/google-login","populate_customer_details_disabled":true,"bt_icon":"<svg version=\'1.0\' xmlns=\'http://www.w3.org/2000/svg\' width=\'131.000000pt\' height=\'131.000000pt\' viewBox=\'0 0 131.000000 131.000000\' preserveAspectRatio=\'xMidYMid meet\'> <g transform=\'translate(0.000000,131.000000) scale(0.100000,-0.100000)\' fill=\'#000000\' stroke=\'none\'> <path d=\'M237 1299 c-62 -15 -112 -45 -155 -94 -73 -83 -73 -87 -70 -571 3 -423 3 -430 26 -471 30 -58 86 -111 141 -137 45 -20 59 -21 481 -21 422 0 436 1 481 21 55 26 111 79 141 137 23 41 23 48 26 471 3 487 3 489 -73 574 -27 30 -66 59 -97 73 -53 24 -54 24 -458 26 -223 1 -422 -3 -443 -8z m953 -364 c0 -238 1 -245 20 -245 27 0 25 -16 -2 -24 -61 -16 -130 2 -147 40 -7 16 -11 95 -11 219 l0 195 -25 6 c-14 3 -25 10 -25 14 0 10 111 37 158 39 l32 1 0 -245z m-591 180 c46 -47 46 -118 0 -164 l-30 -31 23 -9 c64 -24 89 -120 48 -186 -34 -55 -70 -65 -236 -65 -79 0 -144 4 -144 8 0 5 9 17 20 27 19 17 20 31 20 210 0 179 -1 193 -20 210 -11 10 -20 22 -20 27 0 6 65 8 155 6 l155 -3 29 -30z m354 -101 c39 -21 67 -71 67 -121 0 -49 0 -49 -118 -62 -46 -5 -86 -11 -89 -14 -9 -9 18 -81 40 -104 24 -27 78 -30 117 -8 29 17 50 19 50 6 0 -17 -109 -51 -161 -51 -62 0 -119 28 -156 77 -25 33 -28 44 -28 114 0 83 12 111 67 152 51 38 148 43 211 11z m237 -615 c0 -232 1 -241 20 -246 31 -8 24 -23 -12 -25 -57 -3 -92 2 -115 18 -23 14 -23 17 -23 219 l0 204 -32 18 -33 17 65 17 c36 9 80 18 98 18 l32 1 0 -241z m-462 224 l52 -6 -5 -36 c-13 -80 -17 -91 -31 -91 -7 0 -27 27 -44 60 -25 49 -35 60 -55 60 l-25 0 0 -220 0 -219 30 -16 c17 -9 28 -20 25 -25 -9 -14 -255 -13 -255 0 0 6 13 19 30 28 l30 17 0 218 0 217 -30 0 c-26 0 -33 -7 -60 -61 -17 -33 -36 -59 -43 -56 -14 4 -25 40 -26 89 -1 33 2 37 27 41 45 7 323 7 380 0z m217 -149 c42 -20 67 -57 75 -112 9 -54 3 -57 -114 -70 -48 -5 -90 -12 -93 -15 -9 -9 18 -81 40 -104 24 -27 78 -30 117 -8 28 16 50 19 50 7 0 -17 -78 -45 -141 -49 -78 -6 -132 16 -175 72 -67 88 -34 240 61 281 42 18 140 17 180 -2z\'/> <path d=\'M440 1025 c0 -58 3 -105 6 -105 35 0 64 55 64 121 0 59 -15 89 -45 89 l-25 0 0 -105z\'/> <path d=\'M440 795 l0 -105 28 0 c42 0 52 17 52 86 0 88 -15 124 -51 124 l-29 0 0 -105z\'/> <path d=\'M819 989 c-6 -12 -14 -48 -16 -80 l-6 -59 31 0 c53 0 62 8 62 55 0 88 -42 138 -71 84z\'/> <path d=\'M819 449 c-6 -12 -14 -48 -17 -81 l-5 -59 44 3 c43 3 44 3 47 43 5 58 -14 115 -38 115 -11 0 -24 -10 -31 -21z\'/> </g> </svg>","bt_css_vars":":root { --fp_welcome_banner: #E7F2F4; --fp_main_bg: #00778b; --fp_icon_width: 110px; --fp_icon_height: 73px; }","indo_icon":"<svg xmlns=\'http://www.w3.org/2000/svg\' version=\'1.0\' width=\'114.000000pt\' height=\'130.000000pt\' viewBox=\'0 0 114.000000 130.000000\' preserveAspectRatio=\'xMidYMid meet\'><g transform=\'translate(0.000000,130.000000) scale(0.100000,-0.100000)\' fill=\'#000000\' stroke=\'none\'><path d=\'M207 1247 c-43 -65 -73 -137 -61 -146 116 -84 259 -160 362 -191 61 -19 90 -22 180 -18 105 4 138 13 280 75 34 15 -260 -511 -420 -749 -32 -49 -65 -88 -72 -88 -23 0 -91 86 -134 168 -93 179 -138 413 -114 595 l12 92 -28 22 c-24 21 -28 21 -39 7 -16 -22 -33 -102 -43 -209 -17 -170 20 -374 95 -531 42 -86 129 -200 182 -237 103 -71 202 -37 284 98 l33 55 57 0 57 0 26 77 c104 321 218 705 219 737 0 47 -29 76 -75 76 -17 0 -72 -14 -122 -32 -206 -71 -354 -26 -558 171 -45 45 -84 81 -85 81 0 0 -17 -24 -36 -53z\'/><path d=\'M316 802 c24 -92 70 -265 101 -384 31 -120 59 -218 62 -218 3 0 18 19 33 43 l26 42 -83 313 c-45 172 -84 314 -86 316 -2 1 -25 14 -50 29 l-46 26 43 -167z\'/><path d=\'M873 889 c-15 -5 -20 -14 -16 -28 7 -28 17 -26 32 5 14 32 13 34 -16 23z\'/><path d=\'M464 862 c14 -49 126 -483 126 -489 0 -4 12 10 26 31 l26 38 -52 201 c-28 111 -55 205 -59 210 -4 4 -22 12 -40 17 -28 8 -31 7 -27 -8z\'/><path d=\'M754 854 c-8 -3 -6 -29 9 -86 18 -73 21 -79 34 -62 22 31 26 62 13 109 -12 43 -24 52 -56 39z\'/><path d=\'M614 832 c3 -10 22 -79 42 -154 20 -76 41 -135 46 -132 4 3 15 19 23 35 15 27 14 37 -16 147 l-31 118 -34 1 c-28 1 -34 -2 -30 -15z\'/></g></svg>","indo_css_vars":":root { --fp_welcome_banner: #f2f7f4; --fp_main_bg: #006834; --fp_icon_width: 95px; --fp_icon_height: 70px; }","welcome_premium_url":"https://subscribe.belfasttelegraph.co.uk/welcome/premium","welcome_premium_plus_url":"https://subscribe.belfasttelegraph.co.uk/welcome/premium-plus","welcome_home_delivery_url":"https://subscribe.belfasttelegraph.co.uk/welcome/home-delivery","welcome_premium_url_inm":"https://subscribe.independent.ie/welcome/premium/","welcome_premium_plus_url_inm":"https://subscribe.independent.ie/welcome/premium-plus/","welcome_home_delivery_url_inm":"https://subscribe.independent.ie/welcome/home-delivery","styles":":root{--fp_brand_color:#E7F2F4}"}');function r(){console.log("FP GIGYA")}function a(){console.log("FP GIGYA")}function n(e,t){if(t){var r;try{r="string"==typeof t?JSON.parse(t):t}catch(e){r=t}if(r.status&&401===r.status)return void a();!function(e,t){try{var r=t&&t.message?t.message:function(e){try{function r(e){switch(e){case"invalid_password":return"Password is too weak";case"limit_exceeded":return"Number of retries exceeded, please try again later";case"invalid_username_or_password":return"You entered incorrect old password";case"price_not_found":return"No prices defined for the selected item group";case"customer_not_found":return"Email or password are incorrect";case"duplicate":return"An account is already registered with your email address";default:return"Something went wrong, please try again later"}}function a(e){try{var t="Something went wrong, please try again later",a=JSON.parse(e);return a&&a.code?r(a.code):t}catch(e){return"Something went wrong, please try again later"}}var t="Something went wrong, please try again later";return e?(!!e.status===e.status===401?t="Not authenticated user":e.error&&e.error.code?t=r(e.error.code):e.error&&"string"==typeof e.error?t=a(e.error):e.code&&(t=r(e.code)),t):t}catch(n){return"Something went wrong, please try again later"}}(t),a=document.getElementById("fp-error-message");(a=a||document.getElementById("fp-reset-pwd-error-wrraper"))&&(a.style.display="block",a.style.textAlign="center",a.style.color="red",a.innerText=r,a.classList.remove("fp-hidden"),a.parentNode&&(a.parentNode.style.display="block")),console.error("FP::",r)}catch(t){console.error("FP:: Something went wrong",t)}}(0,t)}}function o(e,t,r,a,n){try{return new Promise((function(a,o){var i=new XMLHttpRequest;if(i.open(e,t,!0),i.onload=function(){if(200===this.status){var e=i.response;e&&(e=JSON.parse(i.response)),a(e)}else if(204===this.status)a();else{var t=JSON.parse(JSON.stringify(i.response));o({status:this.status,statusText:i.statusText,error:t})}},i.onerror=function(){o({status:this.status,statusText:i.statusText})},_fp&&_fp.user&&_fp.user.access_token&&i.setRequestHeader("Authorization","Bearer "+_fp.user.access_token),"POST"===e||"PUT"===e||"PATCH"===e){var s=n||"application/json";i.setRequestHeader("Content-Type",s)}i.send(r)}))}catch(e){throw e}}function i(e,t,r){try{r=r?"; expires="+r:"",document.cookie=e+"="+(JSON.stringify(t)||"")+r+"; path=/;domain="+window.location.hostname,localStorage.setItem(e,JSON.stringify(t)),sessionStorage.setItem(e,JSON.stringify(t))}catch(e){console.error("FP::",e)}}function s(e){try{function r(e){var t=e+"=",r=null;try{r=decodeURIComponent(document.cookie)}catch(e){r=document.cookie}for(var a=r.split(";"),n=0;n<a.length;n++){for(var o=a[n];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}let a=r(e);var t;a||(a=localStorage.getItem(e)),a||(a=sessionStorage.getItem(e));try{t=JSON.parse(a)}catch{t=a}return t}catch(n){console.error("FP::",n)}}function p(e){try{function r(e){var t=e+"=",r=null;try{r=decodeURIComponent(document.cookie)}catch(e){r=document.cookie}for(var a=r.split(";"),n=0;n<a.length;n++){for(var o=a[n];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}if(r(e)){var t=window.location.hostname;document.cookie=e+"=;path=/"+(t?";domain="+t:"")+";expires=Thu, 01 Jan 1970 00:00:01 GMT"}localStorage.removeItem(e),sessionStorage.removeItem(e)}catch(a){console.error("FP::",a)}}function c(){try{var e=document.location.href.indexOf(_fp.config.shopfront_url)>-1;return!e&&_fp.config.redirects&&!(e=document.location.href.indexOf(_fp.config.redirects.shopfront_main)>-1)&&_fp.config.redirects.shopfront_pages&&_fp.config.redirects.shopfront_pages.length>0&&((e=_fp.config.redirects.shopfront_pages.indexOf(document.location.href)>-1)||(e=!!_fp.config.redirects.shopfront_pages.find((e=>document.location.href.includes(e))))),e}catch(e){return console.error(e),!1}}function l(){try{var e=_fp.config.shopfront_url;return!e&&_fp.config.redirects&&_fp.config.redirects.shopfront_main&&(e=_fp.config.redirects.shopfront_main),e}catch(e){return"/"}}function _(e){var t="";return e&&(t=e.toUpperCase()),"EUR"===t?"€":"USD"===t?"$":"GBP"===t?"£":t}function d(e){return e||""}function u(e){for(var t=(e+="").split("."),r=t[0],a=t.length>1?"."+t[1]:"",n=/(\d+)(\d{3})/;n.test(r);)r=r.replace(n,"$1,$2");return r+a}function f(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);var r=new Uint32Array(4);(window.crypto||window.msCrypto).getRandomValues(r);var a=r[0],n=r[1],o=r[2],i=r[3];return e[255&a]+e[a>>8&255]+e[a>>16&255]+e[a>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&o|128]+e[o>>8&255]+"-"+e[o>>16&255]+e[o>>24&255]+e[255&i]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]}function m(e){for(var t=[],r=0,a=e.length;r<a;r++){var n=e[r],o={};for(var i in n)o[i]=n[i];t.push(o)}return t}function g(e,t,r){for(var a=0;a<r.length;a++)if(r[a][e]===t)return r[a]}function h(e,t){return t=t||"asc",function(r,a){if("boolean"==typeof r[e]||"boolean"==typeof a[e]){var n=r[e]===a[e]?0:r[e]?-1:1;return"desc"===t?-1*n:n}if(!r.hasOwnProperty(e)||!a.hasOwnProperty(e))return 0;var o="string"==typeof r[e]?r[e].toUpperCase():r[e],i="string"==typeof a[e]?a[e].toUpperCase():a[e];return n=0,o>i?n=1:o<i&&(n=-1),"desc"===t?-1*n:n}}function y(e,t,r,a){try{if(!_fp.config)return;var i={client_id:_fp.config.client_id,browser_session_id:_fp.browser_session_id,page_id:(l={path:window.location.pathname,id:f()},_=JSON.parse(window.localStorage.getItem("imp.page_id")),_&&_.path===window.location.pathname?_fp.page_id=_.id:(_fp.page_id=l.id,window.sessionStorage.removeItem("imp.page_id"),window.localStorage.setItem("imp.page_id",JSON.stringify(l))),_fp.page_id),group_code:_fp.config.item_group_code,code:_fp.config.code,href:window.location.toString(),ad_block_detected:!1,timezone_offset:(new Date).getTimezoneOffset(),referrer:document.referrer,event_type:e||"unknown"};if(t&&(i.object_type=t),r&&(i.object_id=r),a){if(a.placeholder_prices&&a.placeholder_prices.length>0)for(var s=0;s<a.placeholder_prices.length;s++)a.placeholder_prices[s].placeholder_prices&&a.placeholder_prices[s].placeholder_prices.length>0&&(a.placeholder_prices[s].placeholder_prices=m(a.placeholder_prices[s].placeholder_prices),delete a.placeholder_prices[s].placeholder_prices);i.object=a}if(_fp.config.track_user_actions&&_fp.config.track_user_actions_with&&_fp.config.track_user_actions_with.length>0){if(_fp.config.track_user_actions_with.includes("event")&&document.body.dispatchEvent(new CustomEvent("fp_user_event",{bubbles:!1,detail:i})),(_fp.config.track_user_actions_with.includes("api")||"purchase_failed"===e)&&(!_fp.config.user_actions_to_track||_fp.config.user_actions_to_track.length&&_fp.config.user_actions_to_track.includes(e))){if("purchase_failed"!==e&&(delete i.object_type,i.object&&delete i.object),!_fp.config.base_url_transaction)return;o("POST",_fp.config.base_url_transaction+"user_events",JSON.stringify(i)).then((function(e){})).catch((function(e){n(0,e)}))}if(_fp.config.track_user_actions_with.includes("ga")&&"undefined"!=typeof gtag){var p="purchased"===e?"purchase":e,c={ui_type:t,user_registered:!!_fp&&!!_fp.user&&!!_fp.user.access_token};"purchase"===p&&((c=a).ui_type=t,c.user_registered=!!_fp&&!!_fp.user&&!!_fp.user.access_token),gtag("event",p,c)}}}catch(e){throw e}var l,_}function v(e){var t=decodeURIComponent(window.location.href);if("string"==typeof(t=t.replace(/&amp;/g,"&"))){var r=t.split("?");if(1===r.length)return;var a=r[1].split("&"),n={};if(a&&a.length)for(var o=0;o<a.length;o++){var i=a[o].split("="),s=i[0],p=i[1];n[s]=p}return n[e]}}function w(e){var t=document.createDocumentFragment(),r=document.createElement("div");for(r.innerHTML=e;r.firstChild;)t.appendChild(r.firstChild);return t}async function b(e){function t(e){return new Promise((function(t){var r=document.createElement("script");r.onload=t,r.src=e,document.head.appendChild(r)}))}var r=[];for(const a of e)r.push(t(a));await Promise.all(r)}function S(e){var t=document.getElementById("fp-spinner-overlay");if(!t&&(e=(e=e||document.getElementsByClassName("flip-pay-wrapper")[0])||document.querySelector("body"))&&(e.style.position="relative",!(t=document.getElementById("fp-spinner-wrapper")))&&!document.getElementById("fp-spinner")){var r=w("\n            <style id='fp-spinner'> .fp-content-loader { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: #9891916b; z-index: 99999; cursor: pointer; } .fp-spinner-ring { display: inline-block; position: relative; width: 80px; height: 80px; top: calc(50% - 40px); left: calc(50% - 40px); } .fp-spinner-ring div { box-sizing: border-box; display: block; position: absolute; width: 64px; height: 64px; margin: 8px; border: 8px solid #fff; border-radius: 50%; animation: fp-spinner-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite; border-color: var(--fp_brand_color, #717171) transparent transparent transparent; } .fp-spinner-ring div:nth-child(1) { animation-delay: -0.45s; } .fp-spinner-ring div:nth-child(2) { animation-delay: -0.3s; } .fp-spinner-ring div:nth-child(3) { animation-delay: -0.15s; } @keyframes fp-spinner-ring { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style><div id='fp-spinner-overlay' class=\"fp-content-loader\"> <div class='fp-spinner-ring'> <div></div> <div></div> <div></div> <div></div> </div></div>\n            ");e.appendChild(r)}}function P(){var e=document.getElementById("fp-spinner-overlay");e&&e.parentElement.removeChild(e);var t=document.getElementById("fp-spinner");t&&t.remove()}function x(e){var t=document.querySelector(e);t&&t.remove()}function k(e,t,r){var a=document.getElementById("fp-snackbar");if(!a){var n="        <style id='fp-snackbar-style'>            #fp-snackbar { visibility: hidden; min-width: 100%; background-color: #333; color: #fff; text-align: center; padding: 16px; position: fixed; z-index: 99999999; left: 0; top:0 }            #fp-snackbar.fp-show { visibility: visible; -webkit-animation: fadein 0.5s, fadeout 0.5s 3.5s; animation: fadein 0.5s, fadeout 0.5s 3.5s; }            @-webkit - keyframes fadein { from { top: 0; opacity: 0; } to { top: 0; opacity: 1; }}            @keyframes fadein { from { top: 0; opacity: 0; } to { top: 0; opacity: 1; }}            @-webkit - keyframes fadeout { from { top: 0; opacity: 1; } to { top: 0; opacity: 0; }}            @keyframes fadeout { from { top: 0; opacity: 1; } to { top: 0; opacity: 0; }}        </style >        <div id='fp-snackbar'>            <div id='fp-snackbar-message'></div>        </div>        ";_fp.config&&_fp.config.snack_bar_html&&"null"!==_fp.config.snack_bar_html&&(n=_fp.config.snack_bar_html);var o=w(n);if(e){var i=e.parentElement;i&&i.insertBefore(o,e)}else{var s=document.body;s&&s.appendChild(o)}a=document.getElementById("fp-snackbar")}if(a){a.className="fp-show",a.style.backgroundColor=function(e){switch(e){case"success":return"#28a745";case"warning":return"#ffc107";case"error":case"be_error":return"#dc3545";case"info":return"#007bff";default:return"#333"}}(r);var p=document.getElementById("fp-snackbar-message");if(p){var c=t;"success"===r&&_fp.config&&_fp.config.snack_bar_success_message&&"null"!==_fp.config.snack_bar_success_message&&(c=_fp.config.snack_bar_success_message),"error"===r&&_fp.config&&_fp.config.snack_bar_error_message&&"null"!==_fp.config.snack_bar_error_message&&(c=_fp.config.snack_bar_error_message),c||(c="Oops something went wrong, please try again later."),p.innerHTML=function(e){for(var t=e.replace(/_/g," ").toLowerCase().split(" "),r=0;r<t.length;r++)t[r]=t[r].charAt(0).toUpperCase()+t[r].substring(1);return t.join(" ")}(c)}setTimeout((function(){a.className=a.className.replace("fp-show","")}),4e3)}}function T(e){try{P();var t=e&&e.status?e.status:500,r="Something went wrong, please try again later.",a="object"==typeof e?e:E(e.error);if(a.error=a.error&&"string"==typeof a.error?E(e.error):null,a)if(!!a.status===a.status===401)r="Not authenticated user";else if(a.error&&a.error.code)switch(a.error.code){case"invalid_password":r="Password is too weak.";break;case"limit_exceeded":r="Number of retries exceeded, please try again later.";break;case"price_not_found":r="No prices defined for the selected item group";break;case"duplicate":r="An account is already registered with your email address";break;case"processing_error":r=a.error.message?a.error.message:"Processing Error"}else"limit_exceeded"===a.code?r="You reached retries limit, please try again later.":"invalid_username_or_password"===a.code&&(r="You entered incorrect old password");return{status:t,code:a.error.code,message:r}}catch(e){return JSON.stringify({status:t,code:null,message:r})}}function E(e){try{return JSON.parse(e)}catch(e){return null}}async function I(e){try{var t=await function(e,t){try{var r=sessionStorage.getItem("fp.user");if(r=r?JSON.parse(r):null,!e&&r&&_fp.user.access_token===r.access_token&&_fp.user.access_token_expired===r.access_token_expired)return _fp.user=r,Promise.resolve({already_set:!0});if(_fp.user&&_fp.user.access_token){var a=a=`?item_group_code=${_fp.config.item_group_code}`;_fp.config.parent_item_group_code&&(a=`?parent_item_group_code=${_fp.config.parent_item_group_code}`);var n=o("GET",`${_fp.config.base_url_transaction}customers/me/active_access${a}`);return Promise.all([n])}return Promise.resolve(null)}catch(e){throw T(e)}}(e);if(_fp.user=_fp.user?_fp.user:{},Array.isArray(t)&&t&&t[0]){var r=t[0],a=r.customer;_fp.user.user_id=a.id,_fp.user.user_name=a.name,_fp.user.user_email=a.email,_fp.user.user_currency=a.currency,_fp.user.pin=a.pin,_fp.user.user_account_balance=_(a.currency)+" "+a.available_funds.toFixed(2),_fp.user.auto_topup_flag=a.automatic_topup_enable,_fp.user.user_country_code=a.country_code,_fp.user.user_created_at=a.created_at,_fp.user.provider=_fp.user.provider?_fp.user.provider:_fp.config.extraQueryParams?_fp.config.extraQueryParams.provider:null,_fp.user.purchases=r.purchases,_fp.user.active_deliveries=r.active_deliveries,_fp.user.delivery_holidays=r.delivery_holidays,_fp.user.app_purchases=r.app_purchases,_fp.user.corporate_accounts=r.corporate_accounts,_fp.user.whitelist_rule=r.whitelist_rule,sessionStorage.setItem("fp.user",JSON.stringify(_fp.user)),localStorage.setItem("fp.user",JSON.stringify(_fp.user)),function(e,t,r){r=r?"; expires="+r:"";var a=window.location.hostname;document.cookie=e+"="+(t||"")+r+"; path=/;domain="+a}("fp.user",JSON.stringify(_fp.user),_fp.user.access_token_expiration_date)}}catch(e){throw T(e)}}const q="",L={price_box:q,order_summary:q,access_granted_message:q,metered_paywall_register:q,metered_paywall_reached_limit:q,metered_paywall_message_top:q,metered_paywall_message_bottom:q,redeem_coupon_code:q,redeemed_coupon_code:q,redirect_to_subscribe_page:q,auth_wrapper:q,auth_inline_wrapper:q,auth_login:q,auth_login_username_password:q,auth_register:q,auth_register_username_password:q,auth_forgot_pwd:q,auth_forgot_pwd_confirm:q,auth_forgot_pwd_email_sent:q,auth_forgot_pwd_reset_confirm:q,auth_email_verification_required:q,auth_notification_message:q,registration_wall:q,print_home_delivery:q,member_center_wrapper:q,member_center_content:q,member_center_user_details:q,member_center_update_password:q,member_center_update_address:q,member_center_subscription_details:q,audio_player:q,content_blocked:q};function M(e){var t=_fp.config.templates;if(e){var r=L[e]?L[e]:"";return t&&t[e]?t[e]:r}return""}async function C(e,t,r,a){try{S(null);var n=_fp.config.base_url_transaction+"purchases",i={item_group_code:_fp.config.item_group_code,code:_fp.config.code,price_id:_fp.selected_price.id,browser_session_id:_fp.browser_session_id,description:document.title,link:window.location.toString(),referrer:document.referrer,href:window.location.toString(),upgrade:_fp.upgrade_flow};if(_fp.selected_price.variable_amount&&(i.amount=_fp.selected_price.amount),i.code||(i.code=(new Date).toISOString()),_fp.access_response.granted_by_purchase&&(i.original_purchase_id=_fp.access_response.granted_by_purchase.id),_fp.config.tags&&(i.tags=_fp.config.tags),e&&e.payment_method_id&&(i.card=e),t&&(i.paymentIntentId=t),r&&(i.cardId=r),_fp.coupon&&_fp.coupon.code&&(i.coupon_code=_fp.coupon.code),["stripe_google_pay","stripe_apple_pay","stripe_subscriptions"].includes(_fp.config.payment_method)&&(i.payment_provider=_fp.config.payment_method),_fp.print_home_delivery&&_fp.print_home_delivery.address){_fp.user&&_fp.user.user_name&&(i.name=_fp.user.user_name);for(var s=_fp.print_home_delivery.address,p=["phone_number","delivery_notes","address_id","full","address_1","address_2","address_3","address_4","address_5","post_code","address_latitude","address_longitude"],c=0;c<p.length;c++)s[p[c]]&&(i["full"===p[c]?"address":p[c]]=s[p[c]])}y("purchasing","purchase",null,null);var l=await o("POST",n,JSON.stringify(i));return l&&l.executed&&(y("purchased","purchase",l.id,l),l.isNewPurchase=!0,_fp.show_coupon_code_first||_fp.upgrade_flow||k(null,"Purchase successful..","success")),l}catch(e){throw P(),k(null,"Purchase failed..","fail"),e}}function O(e){try{var t=_fp.config.templates.template_prices,r=_fp.config.templates.template_prices_price;if(_fp.prices&&_fp.prices.length>0){for(var a="",n=0;n<_fp.prices.length;n++){var o=_fp.prices[n];a+=D(r.fpPopulateTemplate("original_price",F(o)).fpPopulateTemplate("descriptions",N(o)),o,n)}r=a}var i=t;i=i.fpPopulateTemplate("prices",r).fpPopulateTemplate("shopfront_url",l());var s=`${_fp.metadata&&_fp.metadata.premium_content_teaser?_fp.metadata.premium_content_teaser:""}${i}`;return e?i:s}catch(e){return console.error("FP::",e),""}}function D(e,t,r){try{var a="";t&&(t.amount||0===t.amount)&&(a=t.amount<=.01?"Free":u(t.amount.toFixed(2)));var o=t.price_to_display?t.price_to_display:"free"!==a?_(t.currency)+a:a;if(e=e.fpPopulateTemplate("id",t.id).fpPopulateTemplate("price_id",t.id).fpPopulateTemplate("index",r).fpPopulateTemplate("name",t.name?t.name:"").fpPopulateTemplate("summary",t.summary?t.summary:"").fpPopulateTemplate("badge_text",t.badge_text?t.badge_text:"").fpPopulateTemplate("badge_label",t.badge_text?t.badge_text:"").fpPopulateTemplate("price_selected",_fp.selected_price&&_fp.selected_price.id===t.id?"selected":"").fpPopulateTemplate("hide_login_btn",_fp.user&&!_fp.user.access_token?"":"style='display:none;'").fpPopulateTemplate("hide_original_price",t.original_amount?"":"style='display:none;'").fpPopulateTemplate("original_price_amount",t.original_amount?u(t.original_amount.toFixed(2)):"").fpPopulateTemplate("original_price_currency",_(t.currency)).fpPopulateTemplate("price_image_url",t.image_url?t.image_url:"").fpPopulateTemplate("hide_price_payment_frequency",t.price_to_display_billed&&t.price_to_display_frequency?"":"style='display:none;'").fpPopulateTemplate("display_billing_note",t.placeholder?"display: none;":"").fpPopulateTemplate("price_to_display",o).fpPopulateTemplate("price_to_display_billed",d(t.price_to_display_billed)).fpPopulateTemplate("price_to_display_frequency",d(t.price_to_display_frequency)).fpPopulateTemplate("type",t.badge_text&&t.badge_text.includes("option")?"Option":"Membership").fpPopulateTemplate("coupon_applied",t.coupon_applied?"Coupon Applied":"").fpPopulateTemplate("coupon_code_description",t.coupon_applied?t.coupon_description?t.coupon_description:"10% of":"").fpPopulateTemplate("raw_amount",t.amount?t.amount:"").fpPopulateTemplate("amount",a).fpPopulateTemplate("currency",_(t.currency)).fpPopulateTemplate("checked",_fp.selected_price&&_fp.selected_price.id===t.id?"checked":"").fpPopulateTemplate("hide_image_url",t.image_url?"":"style='display:none;'").fpPopulateTemplate("image_url",d(t.image_url)).fpPopulateTemplate("badge_text",d(t.badge_text)).fpPopulateTemplate("sku_code",t.sku_code).fpPopulateTemplate("mod2plus1",r%2+1),t.custom_text_fields&&t.custom_text_fields.length>0)for(var i=0;i<t.custom_text_fields.length;i++)e=e.fpPopulateTemplate(t.custom_text_fields[i].name,d(t.custom_text_fields[i].value));var s=(new DOMParser).parseFromString(e,"text/html"),p=s.querySelector("[data-fp-element='price-descriptions']");if(p){var c=p.querySelector("[data-fp-element='price-description']");if(c&&t.descriptions&&t.descriptions.length>0)for(var l="",f=0;f<t.descriptions.length;f++)l+=c.outerHTML.fpPopulateTemplate("description",t.descriptions[f].text).fpPopulateTemplate("enabled",t.descriptions[f].enabled?"":"fp-desc-disabled");p.innerHTML=l}return s.querySelector("body").innerHTML}catch(e){return n(0,e),""}}function F(e){try{var t=_fp.config.templates.template_prices_original_price?_fp.config.templates.template_prices_original_price:"",r="";if(t&&e.original_amount){var a=u(e.original_amount.toFixed(2));r+=t.fpPopulateTemplate("original_price_amount",a).fpPopulateTemplate("original_price_currency",_(e.currency))}return r}catch(e){return""}}function N(e){try{var t=_fp.config.templates.template_prices_price_description?_fp.config.templates.template_prices_price_description:"",r="";if(t&&e.descriptions&&e.descriptions.length>0)for(var a=0;a<e.descriptions.length;a++)r+=t.fpPopulateTemplate("description",e.descriptions[a].text).fpPopulateTemplate("enabled",e.descriptions[a].enabled?"":"fp-desc-disabled");return r}catch(e){return""}}function B(){try{if(_fp.prices&&_fp.prices.length>0)for(var e=0;e<_fp.prices.length;e++){var t=_fp.prices[e],r=document.getElementById(`flip-pay-price-${t.id}`);r&&r.addEventListener("click",H,!1)}}catch(e){return void n(0,e)}}function H(e){try{_fp.selected_price_id=e.currentTarget.dataset.price_id,_fp.selected_price=_fp.selected_price_id?g("id",_fp.selected_price_id,_fp.prices):null,y("price_selected","price",_fp.selected_price_id,_fp.selected_price),_fp.user&&_fp.user.access_token?(_fp.selected_placeholder_price=_fp.selected_price&&_fp.selected_price.placeholder?_fp.selected_price:null,_fp.selected_placeholder_price&&_fp.selected_placeholder_price.placeholder_prices&&_fp.selected_placeholder_price.placeholder_prices.length>0&&(_fp.prices=_fp.selected_placeholder_price.placeholder_prices),qe()):(i("fp.price_selected",{price_id:_fp.selected_price.id,article_id:window.MEDIAHUIS&&window.MEDIAHUIS.config?window.MEDIAHUIS.config.article_id:encodeURIComponent(document.location.href)},(new Date).getTime()+36e5),function(){try{var e=window.location.href;if(!e.includes("?flow=")&&!e.includes("&flow=")){var t="";e.includes("#monthly")?t="#monthly":e.includes("#annual")&&(t="#annual");var r=new URL(e);if(!r.search.includes("flow=subscribe")){var a=`${r.search}${r.search.includes("?")?"&":"?"}flow=subscribe${t}`;window.history.replaceState(null,null,a)}}_fp.meta=_fp.meta?_fp.meta:{},_fp.meta.is_login_flow=!0,gigyaIntegration.showLoginScreenSet({signupSource:"flip-pay-price"})}catch(e){n()}}())}catch(e){n(0,e)}}function A(){try{sessionStorage.removeItem("fp.selected_price");var e=c();_fp.premium_wrapper.innerHTML=O(e),_fp.premium_wrapper.parentElement.classList.remove("fp-hidden"),B(_fp.premium_wrapper),y("prices_ui_displayed","conversion",null,null)}catch(e){n()}}function $(){try{var e=c(),t=!window.MEDIAHUIS||!window.MEDIAHUIS.config||!!window.MEDIAHUIS.config.page_secure||"metered"===window.MEDIAHUIS.config.page_secureType,r=!!s("fp.new_purchase"),a=s("fp.welcome_banner_dismissed"),n=s("fp.welcome_modal_dismissed");e||!r||a&&!1!==a||function(e){try{var t=document.querySelector(".body-wrapper");if(!(t=t||document.querySelector("main[role='main']")))return;if(document.querySelector("#fp-welcome-banner-main"))return;var r='\n        <div class="n-backdrop1" id="welcome_banner_wrapper">\n            <div class="n-backdrop1-wrap site-container">\n                <div class="welcome1">\n                    <h3 class="welcome1-title">\n                        >>icon<<                \n                        <span>Welcome! Discover your full benefits as a Premium subscriber.</span>\n                    </h3>\n                    <ul class="welcome1-actions">\n                        <li><a href="javascript:void(0);" class="button1 -ghost" id="dismiss_welcome_banner">Dismiss</a></li>\n                        <li><a href="javascript:void(0);" id="discover_more_banner" class="button1" target="_blank">Discover more</a></li>\n                    </ul>\n                </div>\n            </div>\n            <style>\n                {{style_vars}}\n            </style>\n            <style>           \n            .n-backdrop1{background:var(--fp_welcome_banner)}.n-backdrop1-wrap{display: flex; justify-content: center;}.welcome1{padding:32px 0}.welcome1-title{display:flex;gap:15px;max-width:580px;line-height:1.25;font-size:30px;font-family:\'Nuacht Serif\',\'Nuacht Serif Fallback\',Georgia,serif}.welcome1-title svg{width:var(--fp_icon_width);height:var(--fp_icon_height)}.beltel svg{background:#fff;border-radius:12px}.welcome1-title svg g{fill:var(--fp_main_bg)}.welcome1-actions{display:flex;align-items:center;padding:15px 0 0 80px;margin:0}.welcome1-actions li{margin-bottom:0;list-style:none}.welcome1-actions li~li{margin-left:20px}.welcome1-actions li:before{display:none}.welcome1-actions .button1.-ghost{--bcn:#fff;background:#fff;color:#000}.welcome1 .button1{display:inline-flex;justify-content:center;align-items:center;height:auto;min-height:40px;padding:0 15px;border:none;border-radius:4px;box-shadow:inset 0 0 0 1.25px #000;background:#000;color:#fff;font:100 16px/20px \'Nuacht Serif\';text-align:center;text-decoration:none!important}main[role=main] .welcome1{margin:0 60px}@media screen and (max-width:467px){main[role=main] .welcome1{margin:0 15px}.welcome1-title svg{--fp_icon_width:126px;--fp_icon_height:60px}.welcome1-title{gap:10px;font-size:23px;line-height:1.3}.welcome1-actions{padding:15px 0 0 65px}.welcome1 .button1{min-height:35px}}\n            </style>\n        </div>\n        ',a=_fp.config.item_group_code,n=z();n&&(a=n.item_group_code?n.item_group_code:a),r=r.fpPopulateTemplate("style_vars",a.includes("bel")?_fp.config.bt_css_vars:_fp.config.indo_css_vars).fpPopulateTemplate("icon",a.includes("bel")?_fp.config.bt_icon:_fp.config.indo_icon);var o=document.createElement("div");o.innerHTML=r,o.id="fp-welcome-banner-main",t.insertBefore(o,t.firstChild);var s=document.querySelector("#dismiss_welcome_banner");s&&s.addEventListener("click",(function(){i("fp.welcome_banner_dismissed",!0,null);var e=document.querySelector("#fp-welcome-banner-main");e&&e.remove()}),!1);var p=document.querySelector("#discover_more_banner");p&&p.addEventListener("click",(t=>{t.preventDefault(),U(e)}),!1)}catch(e){throw e}}(),!t||e||!r||n&&!1!==n||function(){try{if(document.querySelector("#welcome_popup_wrapper"))return;var e='\n        <div class="c-modal1 -active -still -dark" id="welcome_popup_wrapper">\n    <div class="c-modal1-wrap">\n        <a href="javascript:void(0);" class="c-modal1-close fp-close">x</a>\n        <div class="welcome2">\n            <h3 class="welcome2-title">               \n                {{icon}}\n                <span>Welcome!</span>\n            </h3>\n            <p class="welcome2-lead">Premium subscribers enjoy unlimited access to all articles. But there\'s more: discover your full benefits now.</p>\n            <ul class="welcome2-actions">\n                <li><a href="javascript:void(0);" id="discover_more_popup" class="button1 -mw2" target="_blank">Discover more</a></li>\n                <li><a href="javascript:void(0);" class="button1 -ghost -mw2 fp-close">Go back to the article</a></li>\n            </ul>\n        </div>\n    </div>\n    <style>\n    {{style_vars}}\n    </style>\n    <style>\n    .c-modal1 { display: block; align-items: center; justify-content: center; position: fixed; left: 0; top: 0; z-index: 999; visibility: hidden; overflow: auto; overflow-x: hidden; width: 100%; height: 100%; padding: 72px 0; background: hsla(0,0%,100%,.75); opacity: 0; pointer-events: none; transition-property: var(--t8n_p2); overscroll-behavior: none; scrollbar-width: none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } .c-modal1.-active{ visibility: visible; opacity: 1; pointer-events: auto; } .c-modal1.-dark { background: rgba(0,0,0,.75); } .c-modal1-wrap { position: relative; width: calc(100% - 20px); max-width: 620px; margin: auto!important; border-radius: 10px; box-shadow: 0 0 50px rgb(0 0 0 / 15%); background: #fff; transform: translateY(0); transition: transform .35s cubic-bezier(.5,0,0,1); will-change: transform; } .c-modal1-close { position: absolute; right: 15px; top: 0; color: #000; font-size: 17pt; }.welcome2 { max-width: 500px; margin: 0 auto; padding: 45px 20px; text-align: center}.welcome2 .welcome2-title { font-size: 25pt; margin-bottom: 20px;}.welcome2 .welcome2-title svg { display: block; margin: 0 auto 20px; width: 80px; height: 80px;}.welcome2 .welcome2-title svg g { fill: var(--fp_main_bg);}.welcome2-lead { font-size: 13pt;}.welcome2-actions { max-width: 280px; margin: 30px auto 0 !important; padding: 0}.welcome2-actions li:first-child { margin-bottom: 15px;}.welcome2-actions li { list-style: none;}.welcome2-actions li:before { display: none}.welcome2-actions .button1 { width: 100%}.welcome2 .button1 { display: inline-flex; justify-content: center; align-items: center; height: auto; min-height: 40px; padding: 0px 15px; border: none; border-radius: 4px; box-shadow: inset 0 0 0 1.25px #000; background: #000; color: #fff; font: 100 16px/20px \'Nuacht Serif\'; text-align: center; text-decoration: none !important;}.welcome2-actions .button1.-ghost { background: #fff; color: #000;}\n    </style> \n</div>\n        ',t=_fp.config.item_group_code,r=z();r&&(t=r.item_group_code?r.item_group_code:t),e=e.fpPopulateTemplate("style_vars",t.includes("bel")?_fp.config.bt_css_vars:_fp.config.indo_css_vars).fpPopulateTemplate("icon",t.includes("bel")?_fp.config.bt_icon:_fp.config.indo_icon);var a=document.createElement("div");a.id="fp-welcome-modal",a.innerHTML=e,document.body.appendChild(a);var n=document.querySelectorAll(".fp-close");if(n&&n.length>0)for(var o=0;o<n.length;o++)n[o].addEventListener("click",(function(){i("fp.welcome_modal_dismissed",!0,null);var e=document.querySelector("#fp-welcome-modal");e&&e.remove()}),!1);var s=document.querySelector("#discover_more_popup");s&&s.addEventListener("click",(e=>{e.preventDefault(),U(_fp.access_response&&_fp.access_response.granted_by_purchase?_fp.access_response.granted_by_purchase:null)}),!1)}catch(e){throw e}}()}catch(e){console.error("FP::",e)}}function U(e){try{var t=_fp.access_response&&_fp.access_response.granted_by_purchase&&_fp.access_response.granted_by_purchase.badge_text?_fp.access_response.granted_by_purchase.badge_text:null;t=t||(e?e.badge_text:null);var r=z();r&&(t=r.badge_text?r.badge_text:t);var a=document.location.hostname.includes("independent.ie"),n=a?_fp.config.welcome_premium_url_inm:_fp.config.welcome_premium_url;t&&(t.includes("premium_plus")?n=a?_fp.config.welcome_premium_plus_url_inm:_fp.config.welcome_premium_plus_url:t.includes("home_delivery")&&(n=a?_fp.config.welcome_home_delivery_url_inm:_fp.config.welcome_home_delivery_url));var o=new URL(n),s=document.location.hostname,p=(s=(s=(s=(s=s.replace("www.","")).replace("previewm","preview")).replace("m.","")).replace("preview","test")).includes("test")?"subscribe-":"subscribe.";o.hostname=`${p}${s}`,i("fp.welcome_modal_dismissed",!0,null),window.open(o.href,"_blank")}catch(e){console.error("FP::",e)}}function z(){try{var e=s("fp.new_purchase");if(!e)return null;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){console.error("FP:: JSON parse",e)}return e}catch(e){return console.error("FP:: Get storage value",e),null}}function R(){try{P(),_fp.access_response&&_fp.access_response.access?function(){try{var e=_fp.premium_wrapper.querySelector("source");if(_fp.user&&_fp.user.user_id&&e&&e.src.includes("/anon/")){var t=e.src.replace("/anon/",`/${_fp.user.user_id}/`);e.src=t}}catch(e){throw e}}():function(){try{var e='\n        <div class="fp-media-no-access">\n            <h5>Sorry, you are not allowed to see this media</h5>\n            <h3>Subscribe now to get <strong>Unlimited</strong> access</h3>\n            <a role="button" class="btn" href="{{shopfront_url}}">Subscribe</a> \n\n            {{sign_in_opt}}\n            <style>\n            .fp-media-no-access {\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                margin: 0 auto;\n                max-width: 700px;\n                background: #121212;\n                padding: 30px 40px 20px;\n                border-radius: 10px;\n            }\n            \n            .fp-media-no-access h5 {\n                margin: 0;\n            }\n\n            .fp-media-no-access h3 {\n                margin: 25px 0;\n            }\n\n            .fp-media-no-access h3 strong {\n                text-transform: uppercase;\n                color: yellow;\n            }\n\n            .fp-media-no-access a {\n                margin-top: 0px;\n                width: 365px;\n                max-width: unset;\n                font-size: 12pt;\n                padding: 10px 0;\n                border-radius: 10px;\n                cursor: pointer;\n            }\n\n            .fp-media-no-access .fp-sign-opt {\n                margin: 10px 0 0;\n                font-size: 9pt;\n            }\n            </style>\n        </div>\n        ',t="<p class='fp-sign-opt'>or sign in <a class='fp-sign-in'>here</a>, if you already have a subscription</p>";if(e=e.fpPopulateTemplate("shopfront_url",l()).fpPopulateTemplate("sign_in_opt",_fp.user&&_fp.user.access_token?"":t),_fp.premium_wrapper.outerHTML=e,!_fp.user||!_fp.user.access_token){var a=document.querySelector(".fp-sign-opt");a&&a.addEventListener("click",(function(){r()}),!1)}}catch(e){throw e}}()}catch(e){throw e}}function J(e){try{window.localStorage.removeItem("fp.selected_price"),window.sessionStorage.removeItem("fp.selected_price"),y("access_granted","access",null,null),x(".fp-content-teaser"),x(".fp-header-subscribe"),document.getElementById("fp-media-item")?R():function(e){try{y("content_displayed",null,null),window.scrollTo(0,0);var t=document.querySelector("#flip-pay");if(t&&(t.innerHTML=""),e&&e.executed)return p(`fp.access.${_fp.config.client_id}`),i("fp.new_purchase",JSON.stringify({badge_text:e.badge_text?e.badge_text:"premium",item_group_code:e.item_group_code?e.item_group_code:"bel001"}),null),void $()}catch(e){n(0,e)}}(e)}catch(e){n(0,e)}}async function j(e){try{var t=_fp.config.base_url_transaction+"cards?item_group_code="+_fp.config.item_group_code,r=await o("GET",t,null);_fp.user=_fp.user?_fp.user:{},_fp.user.cards=r}catch(e){throw new Error(T(e))}}async function G(e,t,r,a){try{if(!t||!e)return void function(e){P();var t="Something went wrong, please try again later.";k(null,e.error?e.error.message:t,"error")}(null);const n={payment_method_id:r,old_card_id:e,exp_month:t.exp_month,exp_year:t.exp_year,last4:t.last4,brand:t.brand,funding:t.funding,country:t.country,secret_validated:!!a},i=_fp.config.base_url_transaction+"cards/";return await o("POST",i,JSON.stringify(n))}catch(e){throw new Error(T(e))}}async function Y(e,t,r){try{"undefined"==typeof Stripe&&await b(["https://js.stripe.com/v3/"]),_fp.stripe=_fp.stripe?_fp.stripe:Stripe(_fp.config.payment_provider.key),_fp.elements=_fp.stripe.elements(_fp.config.payment_provider.settings),_fp.mc_elements=_fp.stripe.elements(_fp.config.payment_provider.settings),await async function(e,t,r){try{var a=!!e&&"member_center"===e,n={base:{fontSize:"15px",fontSmoothing:"antialiased",fontFamily:"",fontWeight:"400",lineHeight:"1.75",letterSpacing:"0.02em",backgroundColor:"#FFFFFF",color:"#666666","::placeholder":{color:"#666666"}}},o=[{type:"cardNumber",id:a?"#fp-mc-card-number":"#fp-card-number",style:n,placeholder:"Card Number"},{type:"cardExpiry",id:a?"#fp-mc-card-expiry":"#fp-card-expiry",style:n,placeholder:"Expiration Date"},{type:"cardCvc",id:a?"#fp-mc-card-cvc":"#fp-card-cvc",style:n,placeholder:"CVV"}];_fp.config.payment_provider&&("compact"===_fp.config.payment_provider.card_fragment?o=[{type:"card",id:r,hide_postal_code:!0,icon_style:"solid"}]:_fp.config.payment_provider.card_fragment);for(var i=[],s=0;s<o.length;s++){var p=te(o[s],e);i.push(p)}!function(e,t){try{var r="."+t,a=document.querySelector(r);if(!a)return void console.error("FP:: Card Form Wrapper Not Found");var n=a.querySelector("form");if(!(n=n||a.parentElement)||"form"!==n.nodeName.toLocaleLowerCase())return void console.error("FP:: Card Form Not Found");var o=n.querySelector(".fp-payment-error");if(!(o=o||n.querySelector(".fp-mc-payment-error")))return void console.error("FP:: Card Error Wrapper Not Found");var i=o.querySelector(".fp-error-message");i=i||o.querySelector(".fp-mc-error-message");var s={};e.forEach((function(e,t){e.on("change",(function(e){if(e.error)o.setAttribute("style","display:grid"),s[t]=e.error.message,i.innerText=e.error.message;else{s[t]=null;var r=Object.keys(s).sort().reduce((function(e,t){return e||s[t]}),null);r?i.innerText=r:o.setAttribute("style","display:none")}}))})),n.addEventListener("submit",(function(r){try{S(),r.preventDefault(),function(e){try{var t=document.querySelector(`.${e}`),r=t?t.querySelector("form"):null;if(!r)return;Array.prototype.forEach.call(r.querySelectorAll("input[type='text'], input[type='email'], input[type='tel'], button"),(function(e){e.setAttribute("disabled","true")}))}catch(e){throw e}}(t),o.setAttribute("style","display:none"),i.innerText="";var a=JSON.parse(JSON.stringify(e[0]));this.dataset&&"update_renewal_card"===this.dataset.type?ee(n,a):V(n,a,null)}catch(e){re(t),P(),console.log("FP:: Pruchase Submit",e)}}))}catch(e){throw ae(e),e}}(i,t)}catch(e){throw e}}(e,t,r),_fp.config.payment_provider.allow_other_payment_method&&await async function(e){try{var t=_fp.selected_price&&_fp.selected_price.currency?_fp.selected_price.currency.toLowerCase():"eur",r=_fp.selected_price&&_fp.selected_price.amount?Math.round(100*parseFloat(_fp.selected_price.amount)):0,a={country:"IE",currency:t,total:{amount:"member_center"===e?0:r,label:_fp.config.payment_provider.payment_request_label}},n=_fp.stripe.paymentRequest(a);!function(e){try{if("member_center"===e){var t=_fp.mc_elements.getElement("paymentRequestButton");t&&t.unmount()}else{var r=_fp.elements.getElement("paymentRequestButton");r&&r.destroy()}}catch(e){throw e}}(e),await async function(e){try{var t=await e.canMakePayment();if(!t)return;var r=_fp.config.payment_provider&&_fp.config.payment_provider.other_payment_method_style?_fp.config.payment_provider.other_payment_method_style:{paymentRequestButton:{theme:"dark"}},a=_fp.elements?_fp.elements.getElement("paymentRequestButton"):null;a&&a.destroy();var n=_fp.elements.create("paymentRequestButton",{paymentRequest:e,style:r}),o=!(!_fp.config||!_fp.config.payment_provider||!_fp.config.payment_provider.disable_apple_pay),i=document.getElementById("fp-apple-pay");t.applePay&&i&&!o&&(n.mount("#fp-apple-pay"),i.parentElement.style.display="block");var s=document.getElementById("fp-google-pay");t.googlePay&&s&&(n.mount("#fp-google-pay"),s.parentElement.style.display="block")}catch(e){throw ae(e),e}}(n),n.on("paymentmethod",(function(t){!function(e,t){try{if(e&&!e.error){if("member_center"===t)ee(e,null);else{var r="stripe_other_payment_option";e.methodName&&(e.methodName.includes("google")||e.methodName.includes("Google"))?r="stripe_google_pay":e.methodName&&(e.methodName.includes("apple")||e.methodName.includes("Apple"))&&(r="stripe_apple_pay"),_fp.config.payment_method=r,V(null,null,e.paymentMethod.id)}e.complete("success")}else e.complete("fail")}catch(e){throw ae(e),e}}(t,e)}))}catch(e){throw e}}(e)}catch(e){throw e}}function V(e,t,r){try{!function(e){try{if(!e)return;var t=Object.fromEntries(new FormData(e));(!_fp.selected_price||t&&t.selected_price&&t.selected_price!==_fp.selected_price.id)&&(_fp.selected_price=_fp.prices.find((e=>e.id===t.selected_price)))}catch(e){throw ae(e),e}}(e),["stripe_google_pay","stripe_apple_pay","stripe_subscriptions"].includes(_fp.config.payment_method)?Q(0,t,r):async function(e){try{S();var t,r=await Z(e);r&&r.paymentMethod?Q(0,{payment_method_id:r.paymentMethod.id,exp_month:r.paymentMethod.card.exp_month,exp_year:r.paymentMethod.card.exp_year,last4:r.paymentMethod.card.last4},null):ae(r&&r.error?r.error:{})}catch(t){throw y("purchase_failed","purchase",null,"Generic error"),ae(t),t}}(t)}catch(e){throw ae(e),e}}async function W(e,t,r){try{var a;(a=["stripe_subscriptions"].includes(_fp.config.payment_method)||["stripe_subscriptions"].includes(_fp.config.payment_method)?await K(e,t.payment_client_secret,r):["stripe_google_pay","stripe_apple_pay"].includes(_fp.config.payment_method)?t.free||0===t.amount?await async function(e,t){try{return await _fp.stripe.confirmCardSetup(e,{payment_method:t})}catch(e){throw ae(e),e}}(t.payment_client_secret,r):await K(e,t.payment_client_secret,r):await async function(e){try{return await _fp.stripe.handleCardAction(e)}catch(e){throw ae(e),e}}(t.payment_client_secret))&&(a.error?ae(a.error):a.setupIntent?X(t,null,a.setupIntent.id):a.paymentIntent?X(t,a.paymentIntent.id,null):ae({}))}catch(e){throw ae(e),e}}async function Z(e){try{return await _fp.stripe.createPaymentMethod("card",e)}catch(e){throw e}}async function K(e,t,r){try{if(!e&&!r)return await _fp.stripe.confirmCardPayment(t);var a={card:e};["stripe_google_pay","stripe_apple_pay"].includes(_fp.config.payment_method)&&(a=r);var n=await _fp.stripe.confirmCardPayment(t,{payment_method:a},{handleActions:!1});return n&&n.paymentIntent&&["requires_action","requires_source_action"].includes(n.paymentIntent.status)&&(n=await K(null,t,null)),n}catch(e){throw ae(e),e}}async function Q(e,t,r){try{S();var a=await C(t,null,null);a&&a.executed?(j(),J(a),P()):a&&a.payment_client_secret?W(t,a,r):(P(),re(),console.error("FP:: fpCreatePurchase"))}catch(e){throw ae(e),e}}async function X(e,t,r){try{S();var a=await async function(e,t,r){try{var a=_fp.config.base_url_transaction+"purchases/"+e+"/execute",n={payment_intent_id:t,setup_intent_id:r},i=await o("POST",a,JSON.stringify(n));return i&&i.executed&&(y("purchased","purchase",i.id,i),i.isNewPurchase=!0),i}catch(e){throw P(),k(null,"Purchase failed..","fail"),e}}(e.id,t,r);a&&a.executed?(a.item_group_code=e.item_group_code,j(),J(a)):(re(),console.error("FP:: fpCreatePurchase")),P()}catch(e){throw ae(e),e}}async function ee(e,t){try{var r=e;if(t&&(!(r=await Z(t))||r.error||!r.paymentMethod))return void ae(r&&r.error?r.error:{});var a=_fp.user.purchases&&_fp.user.purchases.length>0&&_fp.user.purchases.find((e=>e.renewal_card_id))?_fp.user.purchases.find((e=>e.renewal_card_id)).renewal_card_id:null;if(!a)return void ae({});var n=await G(a,r.paymentMethod.card,r.paymentMethod.id,!1);if(n&&n.payment_client_secret){var o=await async function(e,t){try{var r={payment_method:e};return await _fp.stripe.confirmCardSetup(t,r)}catch(e){throw e}}(r.paymentMethod.id,n.payment_client_secret);if(o.error)return void P();await G(a,r.paymentMethod.card,o.setupIntent.payment_method,!0),await I(!0)}else if(n&&n.error)return void ae(n.error);S(),window.location.reload()}catch(e){throw ae(e),e}}function te(e,t){try{var r={style:e.style&&"null"!==e.style?e.style:{base:{iconColor:"#ccc",color:"#000",fontFamily:"Questrial, sans-serif",fontWeight:500,fontSize:"18px",fontSmoothing:"antialiased",":-webkit-autofill":{color:"#eb1c26"},"::placeholder":{color:"#ccc"}},invalid:{iconColor:"#eb1c26",color:"#eb1c26"}}};e.hide_postal_code&&(r.hidePostalCode=e.hide_postal_code),e.icon_style&&(r.iconStyle=e.icon_style),e.placeholder&&(r.placeholder=e.placeholder);var a="member_center"===t?_fp.mc_elements:_fp.elements,n=a?a.getElement(e.type):null;return n&&(n.destroy(),n.unmount(e.id)),n=a.create(e.type,r),document.querySelector(e.id)&&n.mount(e.id),n}catch(e){throw ae(e),e}}function re(e){try{var t=document.querySelector("#fp-payment-form button");(t=(t=t||document.querySelector("#fp-submit-wrapper button"))||document.querySelector(".fp-payment-wrapper button"))&&(t.disabled=!1);var r=document.querySelector(`.${e}`),a=r?r.querySelector("form"):null;if(!(a=a||document.querySelector("[data-type='update_renewal_card']")))return;Array.prototype.forEach.call(a.querySelectorAll("input[type='text'], input[type='email'], input[type='tel'], button"),(function(e){e.removeAttribute("disabled")}))}catch(e){throw e}}function ae(e){try{function n(e){var t=document.getElementById("fp-payment-error");if(t=t||document.querySelector(".fp-payment-error")){var r=t.querySelector(".fp-payment-error-message");(r=r||t.querySelector(".fp-error-message"))&&(t.style.display="inherit",r.innerText=e||"Something went wrong...")}}P();var t="Something went wrong, please try again later.",r=e&&e.error?ne(e.error):e;if(r){var a=ne(r.message);r.status&&401===r.status?t="Not authenticated user":a&&a.message&&!!a.message.length>0?t=a.message[0]:"limit_exceeded"===r.code&&(t="You reached retries limit, please try again later.")}k(null,t,"be_error"),y("purchase_failed","purchase",null,e),re(),n(t)}catch(o){throw e}}function ne(e){try{return"object"==typeof e?e:JSON.parse(e)}catch(e){return null}}async function oe(e){"summary"===e?await Y(e,"fp-payment-wrap","#fp-new-card"):"member_center"===e&&await Y(e,"fp-mc-subscription","#fp-mc-new-card")}function ie(){try{if(_fp.selected_price.placeholder_prices&&1===_fp.selected_price.placeholder_prices.length){var e=_fp.selected_price.placeholder_prices;_fp.selected_price=_fp.selected_price.placeholder_prices[0],_fp.selected_price.placeholder_prices=e}var t=_fp.selected_price.placeholder_prices?_fp.config.templates.template_placeholder_prices_summary:_fp.config.templates.template_summary;t=t||"";var r=_fp.selected_price.placeholder_prices&&_fp.selected_price.placeholder_prices.length>0?function(e){try{function s(){try{if(!_fp.selected_price||_fp.selected_placeholder_price&&_fp.selected_placeholder_price.id===_fp.selected_price.id)return"";var e=_fp.selected_price;if(e.descriptions&&e.descriptions.length>0)for(var t=_fp.config.templates.template_prices_price_description?_fp.config.templates.template_prices_price_description:"",r="",a=0;a<e.descriptions.length;a++)r+=t.fpPopulateTemplate("description",e.descriptions[a].text).fpPopulateTemplate("enabled",e.descriptions[a].enabled?"":"fp-desc-disabled");return r}catch(e){return""}}function p(){try{return _fp.selected_placeholder_price.id===_fp.selected_price.id?"":_fp.selected_price.price_to_display_billed&&_fp.selected_price.price_to_display_frequency?`${_fp.selected_price.price_to_display_billed} ${_fp.selected_price.price_to_display_frequency}`:"Placeholder"}catch(e){return""}}var t=_fp.config.templates.template_placeholder_selected?_fp.config.templates.template_placeholder_selected:"";t=t.fpPopulateTemplate("name",_fp.selected_price.name).fpPopulateTemplate("price_to_display",p()).fpPopulateTemplate("badge_text","").fpPopulateTemplate("badge",function(){var e=[{type:"premium",label:"Premium",note:""},{type:"premium-plus",label:"Premium",note:"<small>+</small>"},{type:"coupon",label:"Premium",note:"<small>+</small>"},{type:"home-delivery",label:"Home Delivery",note:""}],t=e[0];_fp.config.filter_prices_by_badge.includes("plus")||_fp.selected_price.badge_text.includes("plus")?t=e[1]:_fp.config.filter_prices_by_badge.includes("coupon")||_fp.selected_price.badge_text.includes("coupon")?t=e[2]:(_fp.config.filter_prices_by_badge.includes("home-delivery")||_fp.selected_price.badge_text.includes("home-delivery"))&&(t=e[3]);var r='\n\t\t<div data-badge=">>badge_type<<">\n\t\t\t<p class="premium1">\n\t\t\t\t<span class="premium1-wrap">\n\t\t\t\t\t<span>>>badge_label<<</span> \n\t\t\t\t\t<i class="icon1 -i:harp"></i> \n\t\t\t\t\t>>badge_note<<\n\t\t\t\t</span>\n\t\t\t</p>\n\t\t</div>\n\t';return r=(r=(r=_fp.config.templates.template_price_badge?_fp.config.templates.template_price_badge:r)||"").fpPopulateTemplate("badge_type",t.type).fpPopulateTemplate("badge_label",t.label).fpPopulateTemplate("badge_note",t.note)}()).fpPopulateTemplate("display_descriptions","").fpPopulateTemplate("descriptions",s());var r=_fp.config.templates.template_placeholder_price_option?_fp.config.templates.template_placeholder_price_option:"";e=e.sort(h("amount","asc"));for(var a="",n=0;n<e.length;n++){var o=e[n],i=o.amount<=.01?"Free":_(o.currency)+u(o.amount.toFixed(2));a+=r.fpPopulateTemplate("id",o.id).fpPopulateTemplate("index",n).fpPopulateTemplate("price_to_display",o.price_to_display_billed&&o.price_to_display_frequency?o.price_to_display_billed+" "+o.price_to_display_frequency:i).fpPopulateTemplate("price_to_display_billed",o.price_to_display_billed?o.price_to_display_billed:"").fpPopulateTemplate("sku_code",o.sku_code?o.sku_code:"").fpPopulateTemplate("contract_periods",o.contract_periods?o.contract_periods:"").fpPopulateTemplate("price_note",o.is_contract?`(${o.contract_periods} month contract)`:"(cancel anytime)")}return{selected_placeholder_details:t,selected_placeholder_prices:a}}catch(c){return console.error("FP::",c),""}}(_fp.selected_price.placeholder_prices):null,a=function(){try{var e={selected_price:"",other_prices:""},t=_fp.config.templates.template_summary_price?_fp.config.templates.template_summary_price:"",r=_fp.selected_price.original_prices?_fp.selected_price.original_prices:_fp.prices;if(!t||!r||0===r.length)return"";for(var a=0;a<r.length;a++){var n=r[a],o=D(t,n,a);n.id===_fp.selected_price.id?(o=o.fpPopulateTemplate("checked","checked"),e.selected_price=o):(o=o.fpPopulateTemplate("checked",""),e.other_prices+=o)}return e}catch(e){return console.error("FP::",e),""}}();t=(t=r?t.fpPopulateTemplate("selected_price","").fpPopulateTemplate("other_prices",a.other_prices).fpPopulateTemplate("selected_placeholder",r.selected_placeholder_details).fpPopulateTemplate("display_placeholder_prices","").fpPopulateTemplate("display_selected_prices","fp-hidden").fpPopulateTemplate("selected_placeholder_prices",r.selected_placeholder_prices):t.fpPopulateTemplate("selected_price",a.selected_price).fpPopulateTemplate("other_prices",a.other_prices).fpPopulateTemplate("selected_placeholder","").fpPopulateTemplate("display_placeholder_prices","fp-hidden").fpPopulateTemplate("display_selected_prices","").fpPopulateTemplate("selected_placeholder_prices","")).fpPopulateTemplate("price_name",_fp.selected_price.name?_fp.selected_price.name:" - ").fpPopulateTemplate("price_to_display",_fp.selected_price.price_to_display?_fp.selected_price.price_to_display:"").fpPopulateTemplate("user_email",_fp.user?_fp.user.user_email:"").fpPopulateTemplate("original_amount<<",_fp.selected_price.currency&&_fp.selected_price.original_amount?_(_fp.selected_price.currency)+u(_fp.selected_price.original_amount.toFixed(2)):"-");var o=(new DOMParser).parseFromString(t,"text/html");if(o){var i=o.getElementById("fp-payment-form");if(i){var s="\n                <div id='fp-other-payments-wrapper' class='-xw:4 -mx:a -mt:2 -mb:0' style='display: none;'>\n                    <h4 class='-t:6 -xw:4 -mx:a -mt:2' style='margin-bottom: 25px;'>Payment Options</h4>            \n                    <div id='fp-google-pay' class='-xw:4 -mx:a -mt:0 {{disable}}'></div>\n                    <div id='fp-apple-pay' class='-xw:4 -mx:a -mt:0  {{disable}}'></div>\n                    <p class='fp-sep -xw:4 -mx:a'>OR</p>\n                    <style>\n                        .fp-payment-disabled {opacity: .5; pointer-events: none;} .fp-sep {position: relative; z-index: 1; overflow: hidden; text-align:center; margin-bottom: -25px;} .fp-sep:before, .fp-sep:after {position: absolute; top: 51%; width: 49%; height: 1px;  content: ''; background-color: #ccc;} .fp-sep:before { margin-left: -50%; text-align: right;}\n                    </style>\n                </div>",p=w(s=s.fpPopulateTemplate("disable",_fp.selected_placeholder_price.id===_fp.selected_price.id?"fp-payment-disabled":""));i.parentElement.insertBefore(p,i)}}return`${_fp.metadata&&_fp.metadata.premium_content_teaser?_fp.metadata.premium_content_teaser:""}${o.querySelector("body").innerHTML}`}catch(e){return n(0,e),""}}function se(e){try{window.localStorage.removeItem("fpcm_selected_price"),window.sessionStorage.removeItem("fp.selected_price"),_fp.premium_wrapper&&(_fp.premium_wrapper.innerHTML=ie(),_fp.premium_wrapper.parentElement.classList.remove("fp-hidden"),oe("summary"),function(e){try{var t=document.querySelector(`#flip-pay-price-${_fp.selected_price.id}`);t&&(t.checked=!0);var r=document.querySelectorAll(".fp-price-holder-price-option");if(r&&r.length>0){var a=document.getElementById("fp-payment-form-submit");a||(a=document.querySelector("#fp-payment-form button")),a&&_fp.selected_placeholder_price.id===_fp.selected_price.id&&a.setAttribute("disabled",!0);for(var o=0;o<r.length;o++)r[o].addEventListener("click",(function(e){var t=e.currentTarget.querySelector("input");if(t&&t.dataset.priceholder_price_id!==_fp.selected_price.id){var r=_fp.selected_price.placeholder_prices;_fp.selected_price=g("id",t.dataset.priceholder_price_id,_fp.selected_price.placeholder_prices),_fp.selected_price.placeholder_prices=r,se()}}),!1)}}catch(e){n(0,e)}}(),y(_fp.config&&"inm"===_fp.config.client_id?"summary_displayed":"summary_ui_displayed",_fp.config&&"inm"===_fp.config.client_id?"summary":"conversion",_fp.selected_price_id,_fp.selected_price))}catch(e){n(0,e)}}function pe(){try{return _fp.coupon=_fp.coupon?_fp.coupon:{},_fp.access_response&&(_fp.coupon.applied=!!_fp.access_response.coupon_applied,_fp.coupon.redeemed=!!_fp.user&&!!_fp.user.access_token&&!!_fp.access_response.limit_exceeded),_fp.coupon.applied&&(_fp.selected_price=_fp.prices[0],Object.assign(_fp.coupon,_fp.selected_price?_fp.selected_price.coupon:{})),_fp.selected_price?(function(){if(!_fp.user||!_fp.user.access_token)return window.sessionStorage.setItem("fp.selected_price",_fp.selected_price_id),window.sessionStorage.setItem("fp.coupon",JSON.stringify(_fp.coupon)),_fp.config.badge&&window.sessionStorage.setItem("fp.badge",_fp.config.badge),A(),void r();_fp.coupon.code&&_fp.coupon.applied?_fp.selected_price.free&&!_fp.selected_price.require_card?C(null,null,null):se():J()}(),null):function(){let e=null;return _fp.coupon.redeemed?e=(new DOMParser).parseFromString(M("redeemed_coupon_code"),"text/html"):_fp.coupon.code&&_fp.coupon.applied?A():e=(new DOMParser).parseFromString(M("redeem_coupon_code"),"text/html"),e?e.querySelector("body").innerHTML:null}()}catch(e){return console.error("FP::",e),""}}function ce(){try{if(!_fp.coupon)return;_fp.coupon.redeemed?function(){try{var e=document.getElementById("fp-coupon-redeemed-btn");e&&e.addEventListener("click",(function(e){e.preventDefault(),window.location=_fp.config.redirect_url}),!1)}catch(e){throw e}}():_fp.coupon.code&&_fp.coupon.applied||function(){try{var e=document.body.querySelector("#fp-redeem-coupon-code-form #fp-cc-error small");e&&(e.style.display=_fp.coupon.code?"block":"none","block"===e.style.display&&(e.innerText="The access code entered is not valid. Please try again"));var t=document.getElementById("fp-redeem-coupon-code-form");t&&t.addEventListener("submit",(async function(e){e.preventDefault();var t=document.getElementById("fp-redeem-coupon-code-input");t&&(_fp.coupon.code=t.value,await $e(),qe())}),!1)}catch(e){throw e}}()}catch(e){throw e}}async function le(){try{_fp.print_home_delivery&&_fp.print_home_delivery.address&&_fp.print_home_delivery.address.address_1&&(function(){try{if(document.getElementById("fp-hd-form"))for(var e=["address_1","address_2","address_3","address_4","address_5","post_code","ship-address"],t=0;t<e.length;t++){var r=document.querySelector(`#fp-hd-form input[name="${e[t]}"]`);r&&(r.value="ship-address"===e[t]?_fp.print_home_delivery.address.full:_fp.print_home_delivery.address[e[t]])}}catch(e){throw e}}(),ge("show"));var e=document.getElementById("fp-hd-ship-address");e&&(e.focus(),await de(e));var t=document.getElementById("fp-hd-form");t&&t.addEventListener("submit",(function(){!function(e){try{!function(e){try{var t=Object.fromEntries(new FormData(e));t&&(_fp.print_home_delivery.address=_fp.print_home_delivery.address?_fp.print_home_delivery.address:{},_fp.print_home_delivery.address.address_1=t.address_1,_fp.print_home_delivery.address.address_2=t.address_2,_fp.print_home_delivery.address.address_3=t.address_3,_fp.print_home_delivery.address.address_4=t.address_4,_fp.print_home_delivery.address.address_5=t.address_5,t.post_code&&(_fp.print_home_delivery.address.post_code=t.post_code),_fp.print_home_delivery.address.full=ue(_fp.print_home_delivery.address),_fp.user=_fp.user?_fp.user:{},_fp.user.user_name=t.user_name)}catch(e){throw e}}(e),_fp.selected_price&&_fp.selected_price.placeholder,se()}catch(e){throw e}}(this)}),!1);var r=document.getElementById("fp-btn-search");r&&r.addEventListener("click",_e,!1);var a=document.getElementById("fp-hd-ship-address");a&&a.addEventListener("keypress",(function(e){"Enter"===e.key&&_e()}),!1);var n=document.getElementById("fp-hd-try-again");n&&n.addEventListener("click",(function(){ge("hide")}),!1);var o=document.getElementById("fp-hd-addr-manual");o&&o.addEventListener("click",(function(){var e=document.querySelector("#fp-hd-ship-name");e&&(e.value=_fp.user&&_fp.user.user_name?_fp.user.user_name.split("@")[0]:""),ge("show")}),!1)}catch(e){throw e}}function _e(){try{var e=document.getElementById("fp-hd-ship-address"),t=document.querySelector(".fp-search-results-wrapper"),r=document.getElementById("fp-hd-service-results");e&&r&&t&&(t.style.display="none",r.innerHTML="",(new google.maps.places.AutocompleteService).getQueryPredictions({input:e.value},(function(e,a){if(a===google.maps.places.PlacesServiceStatus.OK&&e){t.style.display="block",e.forEach((e=>{var t=document.createElement("li");t.className="fp-search-result",t.dataset.placeId=e.place_id,t.appendChild(document.createTextNode(e.description)),r.appendChild(t)}));var n=document.querySelectorAll(".fp-search-result");n&&n.length>0&&n.forEach((e=>{e.addEventListener("click",fe,!1)}))}})))}catch(e){throw e}}async function de(e){try{if(!_fp.config.home_delivery)throw new Error("HD API key required");if(window.fpGoogleMapLoaded=function(){},"undefined"==typeof google||!google.maps||!google.maps.places){var t="https://maps.googleapis.com/maps/api/js?key="+_fp.config.home_delivery.key+"&libraries=places&callback=fpGoogleMapLoaded";await b([t])}var r={fields:["address_components"],types:["address"]};_fp.config.home_delivery.allowed_countries&&Array.isArray(_fp.config.home_delivery.allowed_countries)&&(r.componentRestrictions={country:_fp.config.home_delivery.allowed_countries}),_fp.print_home_delivery={autocomplete:null,address:null},_fp.print_home_delivery.autocomplete=new google.maps.places.Autocomplete(e,r),_fp.print_home_delivery.autocomplete.addListener("place_changed",me)}catch(e){throw e}}function ue(e){try{var t="";return t+=e.address_5?e.address_5+", ":"",t+=e.address_1?e.address_1+", ":"",t+=e.address_2?e.address_2+", ":"",t+=e.address_3?e.address_3+", ":"",t+=e.post_code?e.post_code+", ":"",t+=e.address_4?e.address_4:""}catch(e){throw e}}function fe(){try{function t(e,t){t===google.maps.places.PlacesServiceStatus.OK&&me(e)}var e={placeId:this.dataset.placeId,fields:["address_component"]};new google.maps.places.PlacesService(document.createElement("div")).getDetails(e,t)}catch(r){throw r}}function me(e){try{if(e||(e=_fp.print_home_delivery.autocomplete.getPlace()),!e)return void ge("hide");if(!e.address_components)return;_fp.print_home_delivery.address={full:"",address_1:"",post_code:""};for(var t=0;t<e.address_components.length;t++){var r=e.address_components[t];switch(r.types[0]){case"street_number":_fp.print_home_delivery.address.address_1=`${r.long_name} ${_fp.print_home_delivery.address.address_1}`;break;case"route":_fp.print_home_delivery.address.address_1+=r.long_name;break;case"postal_code":_fp.print_home_delivery.address.post_code=`${r.long_name}${_fp.print_home_delivery.address.post_code}`;break;case"postal_code_suffix":_fp.print_home_delivery.address.post_code=`${_fp.print_home_delivery.address.post_code}-${r.long_name}`;break;case"locality":_fp.print_home_delivery.address.address_2=r.long_name,document.querySelector("#fp-hd-locality").value=r.long_name;break;case"administrative_area_level_1":_fp.print_home_delivery.address.address_3=r.long_name,document.querySelector("#fp-hd-state").value=r.long_name;break;case"country":_fp.print_home_delivery.address.address_4=r.long_name,document.querySelector("#fp-hd-country").value=r.long_name;break;case"subpremise":_fp.print_home_delivery.address.address_5=r.long_name,document.querySelector("#fp-hd-ship-address-5").value=r.long_name}}var a=document.querySelector("#fp-hd-ship-address-1");a&&(a.value=_fp.print_home_delivery.address.address_1);var o=document.querySelector("#fp-hd-postcode");o&&(o.value=_fp.print_home_delivery.address.post_code);var i=document.querySelector("#fp-hd-ship-name");i&&(i.value=_fp.user&&_fp.user.user_name?_fp.user.user_name.split("@")[0]:""),ge("show")}catch(e){n(0,e)}}function ge(e){try{var t=document.querySelector(".fp-search-results-wrapper");t&&(t.style.display="none");var r=document.getElementById("fp-hd-service-results");r&&(r.innerHTML="");var a=document.getElementById("fp-hd-ship-address");a||a.focus();var n=document.getElementById("fp-hd-details");n&&(n.style.display="show"===e?"block":"none");var o=document.getElementById("fp-hd-search-wrapper");o&&(o.style.display="show"!==e?"block":"none")}catch(e){throw e}}async function he(){try{if(sessionStorage.removeItem("fp.selected_price"),localStorage.removeItem("fp.selected_price"),_fp.premium_wrapper){_fp.premium_wrapper.innerHTML=function(){try{var e=(new DOMParser).parseFromString(M("print_home_delivery"),"text/html"),t=e.querySelector("div[data-fp-element='selected-price']");t&&(t.outerHTML=D(t.outerHTML,_fp.selected_price,0));var r=e.querySelector("body").innerHTML;return`${_fp.metadata&&_fp.metadata.premium_content_teaser?_fp.metadata.premium_content_teaser:""}${r}`}catch(e){throw e}}(),_fp.premium_wrapper.parentElement.classList.remove("fp-hidden");var e=document.querySelector("#fp-hd-ship-name");e&&(e.value=_fp.user&&_fp.user.user_name?_fp.user.user_name.split("@")[0]:""),y("print_delivery_ui_displayed","conversion",null,null),le()}}catch(e){n(0,e)}}function ye(e){try{_fp.premium_wrapper.innerHTML=function(e){try{var t=_fp.prices&&_fp.prices.length>0?_fp.prices.find((e=>e.require_registration||e.require_card)):{};t=t||_fp.prices[0];var r=(new DOMParser).parseFromString(e,"text/html"),a=r.querySelector("[data-fp-element='mp-price-descriptions']");if(a){var o=a.querySelector("[data-fp-element='mp-price-description']");if(o&&t.descriptions&&t.descriptions.length>0)for(var i="",s=0;s<t.descriptions.length;s++)i+=o.outerHTML.fpPopulateTemplate("description",t.descriptions[s].text).fpPopulateTemplate("enabled",t.descriptions[s].enabled?"":"fp-desc-disabled");a.innerHTML=i}var p=r.querySelector("[data-fp-element='mp-price-img']");if(p&&(t.image_url||_fp.config.metered_img_url?p.src=_fp.config.metered_img_url?_fp.config.metered_img_url:t.image_url:p.remove()),_fp.user&&_fp.user.access_token){var c=r.querySelector("[data-fp-element='regwall-register']");c&&c.remove()}else{var l=r.querySelector("[data-fp-element='regwall-subscribe']");l&&l.remove()}return(e=r.querySelector("body").innerHTML).fpPopulateTemplate("price_id",t.id).fpPopulateTemplate("shopfront_url",_fp.config.shopfront_url?_fp.config.shopfront_url:"/")}catch(e){n(0,e)}}(),_fp.premium_wrapper.parentElement&&_fp.premium_wrapper.parentElement.classList.remove("fp-hidden"),y("registration_wall_displayed","registration_wall",null,null),function(){var e=document.querySelector(".fp-mp-sign-up");e&&e.addEventListener("click",(function(){r()}),!1);var t=document.querySelector(".fp-mp-login");(t=t||document.querySelector(".fp-mp-sign-in"))&&t.addEventListener("click",(function(){r()}),!1)}()}catch(e){throw n(0,e),e}}const ve={UserNotRegistered:"metered_register_paywall",Counter:"metered_counter",LastFreeArticle:"metered_second_last",LimitReached:"metered_limit_reached",ConditionsNotMet:"metered_update_profile"};function we(){try{var e=!c()&&!!_fp.access_response&&_fp.access_response.access&&_fp.access_response.metered_paywall_items_used<=_fp.access_response.metered_paywall_items_limit;if(_fp.user&&_fp.user.access_token){if(e){var t=_fp.access_response.metered_paywall_items_used===_fp.access_response.metered_paywall_items_limit;return _fp.access_response.access&&t&&!c()?ve.LastFreeArticle:ve.Counter}return _fp.config.auto_purchase?ve.LimitReached:ve.ConditionsNotMet}return ve.UserNotRegistered}catch(e){console.error("FP:: Set metered paywall type",e)}}function be(){try{var e=_fp.config.templates.template_metered_logged_missing?_fp.config.templates.template_metered_logged_missing:"";return e=e.fpPopulateTemplate("meter_items_limit",_fp.access_response.metered_paywall_items_limit?_fp.access_response.metered_paywall_items_limit:"")}catch(e){throw e}}function Se(){try{var e=c();switch(we()){case ve.UserNotRegistered:!function(e){try{_fp.premium_wrapper.innerHTML=function(e){try{var t=_fp.metadata&&_fp.metadata.premium_content_teaser?_fp.metadata.premium_content_teaser:"";t=e?"":t;var r=_fp.config.templates.template_metered_register?_fp.config.templates.template_metered_register:"";return`${t}${r=r.fpPopulateTemplate("shopfront_url",_fp.config.shopfront_url?_fp.config.shopfront_url:"").fpPopulateTemplate("duration","")}`}catch(e){throw e}}(e),_fp.premium_wrapper.parentElement&&(_fp.premium_wrapper.parentElement.classList.remove("fp-hidden"),_fp.premium_wrapper.parentElement.style.display="unset")}catch(e){throw e}}(e);break;case ve.Counter:case ve.LastFreeArticle:Pe(e);break;case ve.LimitReached:!function(e){try{var t=function(e){try{var t=_fp.config.templates.template_metered_paywall_limit_reached?_fp.config.templates.template_metered_paywall_limit_reached:"";if(t){var r=_fp.access_response.metered_price?_fp.access_response.metered_price:{},a=r.custom_text_fields?r.custom_text_fields:[],n=a.find((e=>"limit_exceeded_title"===e.name));r.title=n?n.value:"";var o=a.find((e=>"limit_exceeded_msg"===e.name));r.message=o?o.value:"",t=t.fpPopulateTemplate("title",r.title?r.title:"").fpPopulateTemplate("message",r.message?r.message:"")}return`${t}${O(e)}`}catch(e){throw e}}(e);t&&(_fp.premium_wrapper.innerHTML=t,_fp.premium_wrapper.parentElement.classList.remove("fp-hidden"))}catch(e){throw e}}(e);break;default:!function(e){try{var t=be();t&&(_fp.premium_wrapper.innerHTML=t,_fp.premium_wrapper.parentElement.classList.remove("fp-hidden"))}catch(e){throw e}}()}!function(){try{B()}catch(e){throw e}}()}catch(e){throw n(0,e),e}}function Pe(e){try{!function(e){try{if(_fp.access_response.metered_paywall_items_used<_fp.access_response.metered_paywall_items_limit&&p("fp.meter_approaching_limit_displayed"),!_fp.config.auto_purchase){var t=be();return void(t&&(_fp.premium_wrapper.innerHTML=t,_fp.premium_wrapper.parentElement.classList.remove("fp-hidden")))}var r=_fp.access_response.metered_paywall_items_used===_fp.access_response.metered_paywall_items_limit,a=s("fp.meter_approaching_limit_displayed");if(!_fp.access_response.access||a||!r||e)return;var n=document.getElementById("fp-meter-bottom");if(!n){var o=document.createElement("div");o.id="fp-meter-bottom",document.body.appendChild(o),n=document.getElementById("fp-meter-bottom")}var c=_fp.config.templates.template_metered_message_bottom;if(c){var l=_fp.access_response.metered_price?_fp.access_response.metered_price:{},_=(l.custom_text_fields?l.custom_text_fields:[]).find((e=>"limit_approaching"===e.name));l.title=_?_.value:"";var d=_fp.config.templates.template_prices_price_description?_fp.config.templates.template_prices_price_description:"",u="";if(d&&l.descriptions&&l.descriptions.length>0)for(var f=0;f<l.descriptions.length;f++)u+=d.fpPopulateTemplate("description",l.descriptions[f].text).fpPopulateTemplate("enabled",l.descriptions[f].enabled?"":"fp-desc-disabled");c=c.fpPopulateTemplate("title",l.title?l.title:"").fpPopulateTemplate("summary",l.summary?l.summary:"").fpPopulateTemplate("descriptions",u),i("fp.meter_approaching_limit_displayed",!0,null),y("mpw_softwall_displayed","metered_paywall",null,null),n.innerHTML=c}}catch(e){throw e}}(e)}catch(e){throw e}}function xe(){try{var e=function(){try{if(!_fp.current_post||0===_fp.current_post.id||!_fp.current_post.promo_podcast_details)return null;var e=!1;_fp.current_post.promo_podcast_details=JSON.parse(_fp.current_post.promo_podcast_details);var t=_fp.current_post.promo_podcast_details.promo_post_types;"all"===t?e=!0:t&&"none"!==t&&(e=(t=t.split(",")).indexOf(_fp.current_post.post.post_type)>-1);var r=_fp.current_post.promo_podcast_details.promo_categories;if(!e)if("all"===r)e=!0;else if(r&&"none"!==r&&_fp.current_post.post_categories&&_fp.current_post.post_categories.length>0)for(var a=0;a<_fp.current_post.post_categories.length;a++){var n=_fp.current_post.post_categories[a];if(e=r.indexOf(n.slug)>-1)break}if(e){var o=_fp.current_post.promo_podcast_details;return o.item_id=o.id,o}return null}catch(e){throw e}}(),t=document.getElementById("fp-item").querySelector("script"),r=t?JSON.parse(t.text):{};if(!(r=e||r)||r.flip_pay_metadata)return;!function(e){try{var t=_fp.user&&_fp.user.user_id?_fp.user.user_id:"anon",r=_fp.config.base_url_transaction+"media/"+_fp.config.client_id+"/"+t+"/"+e.item_id+"?source=article",a=_fp.configfp_plugin_base_url+"/assets/images/icons/"+(_fp.access_response&&_fp.access_response.access?"padlock-unlock.svg":"padlock-lock.svg"),n=_fp.configfp_plugin_base_url+"/assets/images/podcast-background.png",o=M("audio_player");o=o.fpPopulateTemplate("background_image",n).fpPopulateTemplate("rss_icon",_fp.configfp_plugin_base_url+"/assets/images/icons/rss-icon.svg").fpPopulateTemplate("chevron_down_icon",_fp.configfp_plugin_base_url+"/assets/images/icons/chevron-down.svg").fpPopulateTemplate("copy_icon",_fp.configfp_plugin_base_url+"/assets/images/icons/copy-icon.svg").fpPopulateTemplate("share_icon",_fp.configfp_plugin_base_url+"/assets/images/icons/share-icon.svg").fpPopulateTemplate("show_logo","https://sportforbusiness.ab6z.com/wp-content/uploads/2020/09/SFB-Logo.png").fpPopulateTemplate("paddlock_icon",a).fpPopulateTemplate("episode_summary",e.summary).fpPopulateTemplate("audio_src",r);var i=document.querySelector(".entry-content"),s=w(o);if("punditarena"===_fp.config.client_id){var p=i.querySelector(".af_socialshare");p?i.insertBefore(s,p):i.appendChild(s)}else i.appendChild(s)}catch(e){throw e}}(r.flip_pay_metadata),ke(r.flip_pay_metadata),function(e){try{var t=document.getElementById("fp-player-audio"),r=document.getElementById("fp-btn-play-pause");if(t&&r){r.addEventListener("click",(function(){var e=document.getElementById("fp-svg-play"),r=document.getElementById("fp-svg-pause");!1===t.paused?(t.pause(),r.classList.add("fp-hidden"),e.classList.remove("fp-hidden")):(t.play(),r.classList.remove("fp-hidden"),e.classList.add("fp-hidden"))}),!1),t.addEventListener("play",ke,!1),t.addEventListener("loadedmetadata",Ee,!1),t.addEventListener("timeupdate",Ee,!1);for(var a=["fp-btn-backward","fp-btn-forward"],n=0;n<a.length;n++){var o=document.getElementById(a[n]);o&&o.addEventListener("click",Te,!1)}t.onended=function(){var e=document.getElementById("fp-svg-play");if(document.getElementById("fp-svg-pause").classList.add("fp-hidden"),e.classList.remove("fp-hidden"),!(_fp.user&&_fp.user.user_id||_fp.access_response&&_fp.access_response.access)){var t=document.getElementById("fp-player-register-note");t&&t.classList.add("active");var r=document.getElementById("fp-player-register-close");r&&r.addEventListener("click",(function(){var e=document.getElementById("fp-player-register-note");e&&e.classList.remove("active")}),!1);var a=document.getElementById("fp-register-first-player-btn");a&&a.addEventListener("click",(function(){M("auth_register")}),!1)}};var i=document.getElementById("seekObj");i.value=0,i.addEventListener("input",Te,!1),i.addEventListener("change",Te,!1);for(var s=["fp-btn-rss-show","fp-btn-rss-hide"],p=0;p<s.length;p++){var c=document.getElementById(s[p]);c&&c.addEventListener("click",(function(){var t=document.getElementById("fp-player-rss-wrapper");if(t){t.style.height=this.id.includes("show")?"100%":"0px",t.style.visibility=this.id.includes("show")?"visible":"hidden",t.style.opacity=this.id.includes("show")?.98:0;var r=null,a=document.getElementById("fp-player");a&&a.dataset&&(r=a.dataset.fpItemGroupId);var n=_fp.user.user_id?_fp.user.user_id:"anon";r=e?e.item_group_id:"";var o=fpcm_podcast.config.base_url_transaction+"rss/"+fpcm_podcast.config.client_id+"/"+n+"/"+r+".rss",i=t.querySelector("input");i&&(i.value=o);var s=t.querySelector("#fp-btn-rss-copy");s&&s.addEventListener("click",(function(){Ie(o),k("RSS feed copied to clipboard","success")}),!1);var p=t.querySelector("#fp-btn-rss-redirect");p&&p.addEventListener("click",(function(){window.location.assign(o)}),!1)}}),!1)}}}catch(e){throw e}}(r.flip_pay_metadata)}catch(e){throw e}}function ke(e){try{var t=document.getElementById("fp-player");if(!t)return;t.setAttribute("data-fp-item-group-id",e.item_group_id),t.setAttribute("data-fp-item-id",e.item_id),navigator&&navigator.mediaSession&&e.item_image_url&&(navigator.mediaSession.metadata=new MediaMetadata({title:e.title,artist:e.author_name,album:e.item_group_code,artwork:[{src:e.item_image_url,sizes:"96x96",type:"image/png"},{src:e.item_image_url,sizes:"128x128",type:"image/png"},{src:e.item_image_url,sizes:"192x192",type:"image/png"},{src:e.item_image_url,sizes:"256x256",type:"image/png"},{src:e.item_image_url,sizes:"384x384",type:"image/png"},{src:e.item_image_url,sizes:"512x512",type:"image/png"}]}))}catch(e){throw e}}function Te(){}function Ee(e){var t=document.getElementById("seekObj");t.max=this.duration,t.value=this.currentTime,function(){var e=document.getElementById("seekObj");if(e){var t=e.value/e.max*100,r="-webkit-gradient(linear, left top, right top, color-stop("+t+"%, #ffffff), color-stop("+t+"%, #896a9b))";e.style.backgroundImage=r}}();var r=document.getElementById("fp-player-time-current"),a=document.getElementById("fp-player-time-remaining"),n=function(e){var t=e.currentTime,r=e.duration,a=e.duration-e.currentTime,n=Math.floor(r/60),o=Math.floor(r-60*n),i=("0"+n).slice(-2)+":"+("0"+o).slice(-2),s=Math.floor(a/60),p=Math.floor(a-60*s);p<10&&(p="0"+p);var c="-"+s+":"+p,l=Math.floor(t),_=Math.floor(l/60);return(l-=60*_)<10&&(l="0"+l),[_+":"+l,c,i]}(this);r.innerHTML=n[0],"loadedmetadata"===e.type?a.innerHTML=n[2]:a.innerHTML=n[1]}function Ie(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(t)}}}function qe(){try{switch(_fp.meta=_fp.meta?_fp.meta:{},_fp.meta.flow_type=Le(),_fp.meta.flow_type){case Me.GoogleShowcase:De();break;case Me.Custom:!function(){try{var e=_fp.access_response;(e=e||{}).event_type="access_resolved",document.body.dispatchEvent(new CustomEvent("fp_custom_flow_triggers",{bubbles:!1,detail:e}))}catch(e){throw e}}();break;case Me.CouponCode:!function(){try{const e=pe();if(!e)return;_fp.premium_wrapper.innerHTML=e,y("redeem_coupon_code_displayed","coupon_code",null,null),ce()}catch(e){throw console.error("FP::",e),e}}();break;case Me.PrintDelivery:he();break;case Me.Registrationwall:ye();break;case Me.Metered:Se();break;case Me.Mediawall:R();break;case Me.Podcastwall:xe();break;case Me.Free:J();break;case Me.OrderSummary:se();break;case Me.Paywall:default:A()}}catch(e){n(0,e)}}function Le(){try{var e=!!_fp.user&&!!_fp.user.access_token,t=document.location.href.indexOf(_fp.config.shopfront_url)>-1,r=!!_fp.access_response&&!!_fp.access_response.granted_by_google_showcase&&!!_fp.access_response.granted_by_google_showcase.entitlements;return!Oe()||_fp.swg_show_prices||e&&!r?"custom"===!!_fp.config.flow_type||"true"===_fp.config.custom_flow?Me.Custom:_fp.prices&&(_fp.prices.find((e=>e.coupon_first))||_fp.prices.find((e=>e.coupon_applied)))?Me.CouponCode:e&&_fp.selected_price&&_fp.selected_price.validate_address?Me.PrintDelivery:!t&&_fp.prices&&_fp.prices.find((e=>0===e.amount&&(e.require_card||e.require_registration)))?Me.Registrationwall:t||!_fp.access_response.metered_paywall||_fp.selected_price?document.getElementById("fp-media-item")?Me.Mediawall:document.getElementById("fp-item")||_fp.current_post&&0!==_fp.current_post.id&&_fp.current_post.promo_podcast_details?Me.Podcastwall:e&&_fp.selected_price&&_fp.selected_price.free&&!_fp.selected_price.require_card?Me.Free:e&&_fp.selected_price?Me.OrderSummary:Me.Paywall:Me.Metered:Me.GoogleShowcase}catch(e){return console.error("FP::",e),Me.Paywall}}const Me={GoogleShowcase:"google_showcase",Custom:"custom",CouponCode:"coupon_code",PrintDelivery:"print_home_delivery",Registrationwall:"registrationwall",Mediawall:"mediawall",Podcastwall:"podcastwall",Free:"free",OrderSummary:"order_summary",Paywall:"paywall",Metered:"metered"};async function Ce(){try{return await function(e){function t(e){return new Promise((function(t){var r=document.createElement("script");if(r.onload=t,r.type="text/javascript",r.id=e.id,r.src=e.src,e.attributes&&e.attributes.length>0)for(var a=0;a<e.attributes.length;a++){var n=e.attributes[a];r.setAttribute(n.key,n.value)}document.head.appendChild(r)}))}var r=[];for(var a of e)r.push(t(a));return Promise.all(r)}([{src:"https://news.google.com/swg/js/v1/swg-gaa.js",id:"fp-swg-gaa"},{src:"https://news.google.com/swg/js/v1/swg.js",id:"fp-swg",attributes:[{key:"subscriptions-control",value:"manual"}]},{src:"https://accounts.google.com/gsi/client",id:"fp-g-gsi"}]),!0}catch(e){return console.error("FP::",e),!1}}function Oe(){try{_fp.gaa_local_storage_key="fp.gaa";var e=["gaa_at","gaa_n","gaa_sig","gaa_ts"],t=new URL(document.location.href);if(t.search=decodeURIComponent(t.search),t.search=t.search.replace("&amp;","&"),window.history.replaceState(null,null,decodeURIComponent(t.search)),!v("gaa_sig")){var r=localStorage.getItem(_fp.gaa_local_storage_key);r&&(r=JSON.parse(r),new URL(document.location.href).pathname===r.origin&&r.params?window.history.replaceState(null,null,decodeURIComponent(r.params)):localStorage.removeItem(_fp.gaa_local_storage_key))}for(var a=0;a<e.length;a++){var n=v(e[a]);if(!(n=n||localStorage.getItem(e[a])))return!1;if("gaa_ts"===e[a]&&parseInt(e[a],16)<Date.now()/1e3)return!1}return window.location.hash="no_deep_link",!0}catch(e){return console.error("FP::",e),!1}}async function De(){try{if("undefined"==typeof GaaMetering&&await Ce(),"function"==typeof _fp.gaaHandleLoginPromise){var e=He();return _fp.gaaHandleLoginPromise(e),void qe()}_fp.gaaHandleLoginPromise=null;var t=new Promise((e=>{try{GaaMetering.getLoginPromise().then((()=>{GaaMeteringRegwall.remove(),gigyaIntegration.showLoginScreenSet({signupSource:"flip-pay-price"}),_fp.gaaHandleLoginPromise=e}))}catch(e){throw e}})),r=(new Promise((e=>{GaaMetering.getGaaUserPromise().then((t=>{var r=_fp.config.registration_domain;r||(r=window.location.href.includes("belfasttelegraph.co.uk")?"belfasttelegraph":window.location.href.includes("sundayworld.com")?"sundayworld":window.location.href.includes("independent.ie")?"independent":"localirishnews");var a=document.querySelector("link[rel='canonical']"),n=a?a.href:document.location.origin+document.location.pathname,s=n?n+"?source=GoogleShowcase":"source=GoogleShowcase",p=`marketing_pref.${r}`,c={firstName:(t=t||{}).givenName?t.givenName:t.email,lastName:t.familyName?t.familyName:t.email},l={updates_opt:!1,originalSignUpSource:s,[p]:!1},_=_fp.config.original_authority+"/gigya/social",d={client_id:_fp.config.client_id,access_token:t.authorizationData.access_token,email:t.email,provider:t.provider,registration_data_json:JSON.stringify(l),registration_profile_json:JSON.stringify(c),reg_source:s};o("POST",_,JSON.stringify(d)).then((function(t){if(t&&t.cookie){var r=JSON.parse(t.cookie);i("fp_gaa_user",f()),i(r.name,r.value,null),gigya.socialize.getUserInfo()}e()}))}))})),He()),a=new Promise((e=>{e(r)})),n=encodeURI(document.location.href),s=`${_fp.config.google_widget_url}?redirect_uri=${encodeURIComponent(n)}`,p=_fp.access_response&&_fp.access_response.granted_by_google_showcase?_fp.access_response.granted_by_google_showcase.entitlements:null,c=new URL(_fp.config.google_widget_url),l=new URL(document.location.href);location.hash="swg.debug=1",GaaMetering.init({authorizationUrl:s,userState:r,showcaseEntitlement:p,allowedReferrers:[c.host,l.host],handleLoginPromise:t,publisherEntitlementPromise:a,unlockArticle:Ne,showPaywall:Be,handleSwGEntitlement:Fe}),r.granted||_fp.access_response.access||(_fp.swg_show_prices=!0,qe())}catch(e){console.error("FP::",e)}}function Fe(e){console.log("FP",e)}function Ne(){J()}function Be(){_fp.access_response.access?window.location.href=_fp.config.shopfront_url:qe()}function He(){try{var e={granted:!1};if(_fp.user&&_fp.user.access_token&&(e.id=decodeURIComponent(_fp.user.UID),e.registrationTimestamp=_fp.user.oldest_data_updated_times_stamp?_fp.user.oldest_data_updated_times_stamp:1617196746),_fp.access_response&&_fp.access_response.access){if(_fp.access_response.granted_by_google_showcase)return e;if(e.granted=!0,e.grantReason=_fp.access_response.granted_by_purchase&&_fp.access_response.granted_by_purchase.metered?"METERING":"SUBSCRIBER",e.subscriptionTimestamp=Math.floor((new Date).getTime()/1e3),_fp.access_response.granted_by_purchase&&!_fp.access_response.granted_by_purchase.metered){var t=_fp.access_response.granted_by_purchase.created_at?new Date(_fp.access_response.granted_by_purchase.created_at):new Date;e.subscriptionTimestamp=Math.floor(t.getTime()/1e3)}}return e}catch(e){return console.error("FP_GAA::",e),{granted:!1}}}function Ae(){var e=document.querySelector("link[rel='canonical']"),t=e?e.href:null;_fp.config.badge=c()?"shopfront":_fp.config.badge?_fp.config.badge:"article",v("badge")&&(_fp.config.badge=v("badge")),window.sessionStorage.getItem("fp.badge")&&(_fp.config.badge=window.sessionStorage.getItem("fp.badge"),window.sessionStorage.removeItem("fp.badge"));var r=encodeURIComponent(document.location.href),a=document.querySelector("[data-premium-article-id]");if((a=a||document.querySelector("[id^='post']"))&&(a.dataset&&a.dataset.premiumArticleId?r=a.dataset.premiumArticleId:a.id&&2===a.id.split("-").length&&(r=a.id.split("-")[1])),!_fp.coupon){var n=window.sessionStorage.getItem("fp.coupon");if(_fp.coupon=n?JSON.parse(n):null,window.sessionStorage.removeItem("fp.coupon"),!_fp.coupon){var o=v("coupon_code");_fp.coupon=o?{code:o}:null,!_fp.coupon||_fp.user&&_fp.user.access_token&&!_fp.user.access_token_expired||(function(e,t,r){var a=t.split("?")[0],n=[],o=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==o){for(var i=(n=o.split("&")).length-1;i>=0;i-=1)n[i].split("=")[0]===e&&n.splice(i,1);a=a+"?"+n.join("&")}r&&window.history.replaceState(null,null,a)}("coupon_code",document.location.href,!0),window.sessionStorage.setItem("fp.coupon",JSON.stringify(_fp.coupon)))}}var i={code:r,group_code:_fp.config.item_group_code,ad_block_detected:!1,browser_session_id:_fp.browser_session_id,referrer:encodeURIComponent(document.referrer),href:t?encodeURIComponent(t):encodeURIComponent(window.location.href),badge:_fp.config.badge,auto_purchase:_fp.config.auto_purchase,country_code:_fp.country_code?_fp.country_code:null,google_showcase:Oe()};return window.MEDIAHUIS&&window.MEDIAHUIS.config&&window.MEDIAHUIS.config.article_id&&(i.code=window.MEDIAHUIS.config.article_id),_fp.user&&_fp.user.access_token&&!_fp.user.access_token_expired||(i.client_id=_fp.config.client_id),_fp.coupon&&_fp.coupon.code&&(i.coupon_code=_fp.coupon.code),i}async function $e(){try{y("access_requested",null,null,null);var e=await async function(){return{is_premium:!0,url:`${_fp.config.base_url_transaction}access`,request:Ae()}}();if(_fp.is_premium=!!e&&!!e.is_premium,!_fp.is_premium)return;if(_fp.access_response=await o("POST",e.url,JSON.stringify(e.request),0,"application/json;"),_fp.access_response&&_fp.access_response.prices){_fp.prices=_fp.access_response.prices.sort(h("amount","asc"));var t=_fp.user&&(!!(_fp.user.purchases&&!!_fp.user.purchases.length>0)||!!(_fp.user.app_purchases&&!!_fp.user.app_purchases.length>0)||!!(_fp.user.corporate_accounts&&!!_fp.user.corporate_accounts.length>0)||!!(_fp.user.whitelist_rule&&!!_fp.user.whitelist_rule.length>0));_fp.access_response.access===t||_fp.config.populate_customer_details_disabled||await I(!0)}return y("access_resolved","access",null,_fp.access_response),_fp.access_response}catch(e){throw T(e)}}function Ue(e,t){var r=new Date(e);return t=t||"/",("0"+r.getDate()).slice(-2)+t+("0"+(r.getMonth()+1)).slice(-2)+t+r.getFullYear()}function ze(){try{var e=!!_fp.config.member_center&&!!_fp.config.member_center.subscription_details_only,t=e?"":(o=_fp.user?_fp.user:{},M("member_center_user_details").fpPopulateTemplate("name",o.user_name?o.user_name:"-").fpPopulateTemplate("email",o.user_email?o.user_email:"-").fpPopulateTemplate("countryCode",o.user_country_code?o.user_country_code:"-").fpPopulateTemplate("currency",o.user_currency?o.user_currency:"-").fpPopulateTemplate("customer_id",_fp.user?_fp.user.user_id:"").fpPopulateTemplate("tab_id","fp-mc-general").fpPopulateTemplate("tab_form_type","general")),r=e||!_fp.user||_fp.user.provider&&"FlipPay"!==_fp.user.provider?"":M("member_center_update_password").fpPopulateTemplate("customer_id",_fp.user.user_id).fpPopulateTemplate("tab_id","fp-mc-password").fpPopulateTemplate("tab_form_type","password"),a=function(){var e,t,r,a;_fp.user.purchases&&_fp.user.purchases.length>0&&(e=_fp.user.purchases.find((e=>!e.metered))?_fp.user.purchases.find((e=>!e.metered)):_fp.user.purchases[0]),!e&&_fp.user.app_purchases[0]&&(t=_fp.user.app_purchases[0]),_fp.user.corporate_accounts&&_fp.user.corporate_accounts.length>0&&(r=_fp.user.corporate_accounts[0]),_fp.user.whitelist_rule&&(a=_fp.user.whitelist_rule);var n=(new DOMParser).parseFromString(M("member_center_subscription_details"),"text/html"),o=n.querySelector('div[data-fp-element="no-sub"]'),i=n.querySelector('div[data-fp-element="sub-custom-access-details"]'),s=n.querySelector('div[data-fp-element="sub-details"]'),p=!(!e||!e.id||e.metered||e.free);p||(p=!(!t||!t.id||t.metered||t.free));var c={};if(p){!e&&t&&((e=t).purchase_type="app",e.description="Premium"),_fp.user.active_purchase=e;var d=s.querySelector('div[data-fp-element="web-purchase"]'),u=s.querySelector('div[data-fp-element="app-purchase"]');"app"===e.purchase_type&&d?d.remove():u&&u.remove(),o&&o.remove(),i&&i.remove();var f="";e.amount?f=`${_(e.currency)}${e.amount?e.amount.toFixed(2):0}`:e.user_cancellable&&(f="Trial Period"),c={subscription_user_name:_fp.user.user_name?`${_fp.user.user_name},`:"",subscription_plan_name:e.description?`Premium ${e.description.toLowerCase()}`:"-",subscription_plan_amount:f,subscription_plan_start:Ue(e.start_at,"."),subscription_plan_renewal:e.finish_at?Ue(e.finish_at,"."):"-",subscription_pin:_fp.user.pin?_fp.user.pin:"-",subscription_active_deliveries:_fp.user.active_deliveries,subscription_delivery_address:Je(e),subscription_delivery_holidays:_fp.user.delivery_holidays?_fp.user.delivery_holidays:"",card_icon:Re(e),card_id:e.renewal_card_id?e.renewal_card_id:"",card_brand:e.renewal_card_brand?e.renewal_card_brand:"-",card_last_4:e.renewal_card_last4?e.renewal_card_last4:"",app_store_purchase_url:"ios"===e.os?"https://apps.apple.com/account/subscriptions":` https://play.google.com/store/account/subscriptions?package=${e.bundle_id}&sku=${e.sku_code}`}}else i&&r?(o&&o.remove(),s&&s.remove(),c={subscription_user_name:_fp.user.user_name?`${_fp.user.user_name},`:"",subscription_plan_name:r.name?`Corporate Account:  ${r.name}`:"-"}):i&&a?(o&&o.remove(),s&&s.remove(),c={subscription_user_name:_fp.user.user_name?`${_fp.user.user_name},`:"",subscription_plan_name:"Premium"}):(i&&i.remove(),s&&s.remove());return(n=n.querySelector("body").innerHTML).fpPopulateTemplate("terms_of_use_url",_fp.config.member_center?_fp.config.member_center.terms_of_use_url:"").fpPopulateTemplate("shopfrontUrl",l()).fpPopulateTemplate("shopfront_url",l()).fpPopulateTemplate("title",p?"You are subscribed as a Premium member":"You don't currently have a subscription.").fpPopulateTemplate("tab_id","fp-mc-subscription").fpPopulateTemplate("tab_form_type","update_renewal_card").fpPopulateTemplate("customer_id",_fp.user?_fp.user.user_id:"").fpPopulateTemplate("subscription_plan_hide",p?"":"fp-hidden").fpPopulateTemplate("subscription_user_name",c.subscription_user_name).fpPopulateTemplate("subscription_plan_name",c.subscription_plan_name).fpPopulateTemplate("subscription_plan_amount",c.subscription_plan_amount).fpPopulateTemplate("subscription_plan_start",c.subscription_plan_start).fpPopulateTemplate("subscription_plan_renewal",c.subscription_plan_renewal).fpPopulateTemplate("subscription_pin",c.subscription_pin).fpPopulateTemplate("subscription_delivery_address",c.subscription_delivery_address).fpPopulateTemplate("subscription_delivery_address_display",c.subscription_active_deliveries?"":"fp-hidden").fpPopulateTemplate("subscription_delivery_holidays",function(e){try{if(!e||0===e.length)return"<input type='text' value='Not Defined' data-type='member_center' disabled><div class='fp-mc-pencil fp-hd-holidays-add-new'><span>&#9999;</span></div>";function n(e){var t=e.getFullYear(),r=(1+e.getMonth()).toString();r=r.length>1?r:"0"+r;var a=e.getDate().toString();return`${t}-${r}-${a=a.length>1?a:"0"+a}`}for(var t="",r=0;r<e.length;r++){var a=e[r];t+=`\n            <div class="fp-delivery-holidays-dates fp-hd-item" data-id="${a.id}">\n                <span>${r+1}.</span>\n                <input type="date" value="${n(new Date(a.start_at))}" disabled>\n                <span> - </span>\n                <input type="date" value="${n(new Date(a.finish_at))}" disabled>\n                <div class="fp-hidden fp-mc-pencil fp-hd-holidays-edit"><span>&#9999;</span></div>\n            </div>\n            `}return`\n        <div class="fp-dh-main">\n        ${t}\n            <p id="fp-hd-add-delivery-holidays" class="text-right m-0">\n                <button class="fp-btn fp-hd-add-delivery-holidays" type="button">\n                    Add Delivery Holidays\n                </button>\n            </p>\n        </div>`}catch(o){return console.error("FP::",o),"<input type='text' value='Not Defined' data-type='member_center' disabled><div class= fp-mc-pencil fp-hd-holidays-add-new'><span>&#9999;</span></div>"}}(c.subscription_delivery_holidays)).fpPopulateTemplate("subscription_delivery_holidays_display",c.subscription_active_deliveries?"":"fp-hidden").fpPopulateTemplate("card_icon",c.card_icon).fpPopulateTemplate("card_id",c.card_id).fpPopulateTemplate("card_brand",c.card_brand).fpPopulateTemplate("card_last_4",c.card_last_4).fpPopulateTemplate("active_sub",p?"fp-active-sub":"").fpPopulateTemplate("app_store_purchase_url",c.app_store_purchase_url?c.app_store_purchase_url:"")}(),n=M("member_center_content");return n=n.fpPopulateTemplate("hidden",_fp.user.provider&&"FlipPay"!==_fp.user.provider?"fp-hidden":"").fpPopulateTemplate("userDetailsHtml",t).fpPopulateTemplate("subscriptionDetailHtml",a).fpPopulateTemplate("updatePasswordHtml",_fp.user.provider&&"FlipPay"!==_fp.user.provider?"":r)}catch(e){return console.error("FP::",e),""}var o}function Re(e){return e.renewal_card_brand?"visa"===e.renewal_card_brand?'<svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48" width="32px" height="32px"><path fill="#1565C0" d="M45,35c0,2.209-1.791,4-4,4H7c-2.209,0-4-1.791-4-4V13c0-2.209,1.791-4,4-4h34c2.209,0,4,1.791,4,4V35z"/><path fill="#FFF" d="M15.186 19l-2.626 7.832c0 0-.667-3.313-.733-3.729-1.495-3.411-3.701-3.221-3.701-3.221L10.726 30v-.002h3.161L18.258 19H15.186zM17.689 30L20.56 30 22.296 19 19.389 19zM38.008 19h-3.021l-4.71 11h2.852l.588-1.571h3.596L37.619 30h2.613L38.008 19zM34.513 26.328l1.563-4.157.818 4.157H34.513zM26.369 22.206c0-.606.498-1.057 1.926-1.057.928 0 1.991.674 1.991.674l.466-2.309c0 0-1.358-.515-2.691-.515-3.019 0-4.576 1.444-4.576 3.272 0 3.306 3.979 2.853 3.979 4.551 0 .291-.231.964-1.888.964-1.662 0-2.759-.609-2.759-.609l-.495 2.216c0 0 1.063.606 3.117.606 2.059 0 4.915-1.54 4.915-3.752C30.354 23.586 26.369 23.394 26.369 22.206z"/><path fill="#FFC107" d="M12.212,24.945l-0.966-4.748c0,0-0.437-1.029-1.573-1.029c-1.136,0-4.44,0-4.44,0S10.894,20.84,12.212,24.945z"/></svg>':"mastercard"===e.renewal_card_brand?'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.3333 6.66406C20.1077 6.66406 18.894 6.90548 17.7616 7.37452C16.6292 7.84356 15.6004 8.53105 14.7337 9.39773C13.867 10.2644 13.1795 11.2933 12.7105 12.4257C12.2414 13.5581 12 14.7717 12 15.9974C12 17.2231 12.2414 18.4367 12.7105 19.5691C13.1795 20.7015 13.867 21.7304 14.7337 22.5971C15.6004 23.4637 16.6292 24.1512 17.7616 24.6203C18.894 25.0893 20.1077 25.3307 21.3333 25.3307C22.559 25.3307 23.7727 25.0893 24.905 24.6203C26.0374 24.1512 27.0663 23.4637 27.933 22.5971C28.7997 21.7304 29.4872 20.7015 29.9562 19.5691C30.4253 18.4367 30.6667 17.2231 30.6667 15.9974C30.6667 14.7717 30.4253 13.5581 29.9562 12.4257C29.4872 11.2933 28.7997 10.2644 27.933 9.39773C27.0663 8.53105 26.0374 7.84356 24.905 7.37452C23.7727 6.90548 22.559 6.66406 21.3333 6.66406Z" fill="#FF9800"/><path d="M10.6668 6.66406C9.44116 6.66406 8.22749 6.90548 7.09512 7.37452C5.96275 7.84356 4.93385 8.53105 4.06717 9.39773C3.20049 10.2644 2.513 11.2933 2.04395 12.4257C1.57491 13.5581 1.3335 14.7717 1.3335 15.9974C1.3335 17.2231 1.57491 18.4367 2.04395 19.5691C2.513 20.7015 3.20049 21.7304 4.06717 22.5971C4.93385 23.4637 5.96275 24.1512 7.09512 24.6203C8.22749 25.0893 9.44116 25.3307 10.6668 25.3307C11.8925 25.3307 13.1062 25.0893 14.2385 24.6203C15.3709 24.1512 16.3998 23.4637 17.2665 22.5971C18.1332 21.7304 18.8207 20.7015 19.2897 19.5691C19.7587 18.4367 20.0002 17.2231 20.0002 15.9974C20.0002 14.7717 19.7587 13.5581 19.2897 12.4257C18.8207 11.2933 18.1332 10.2644 17.2665 9.39773C16.3998 8.53105 15.3709 7.84356 14.2385 7.37452C13.1062 6.90548 11.8925 6.66406 10.6668 6.66406Z" fill="#D50000"/><path d="M12 15.9971C12 19.1671 13.584 21.9637 16 23.6504C18.416 21.9637 20 19.1671 20 15.9971C20 12.8271 18.416 10.0304 16 8.34375C13.584 10.0304 12 12.8271 12 15.9971Z" fill="#FF3D00"/></svg>':'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32px" height="32px" viewBox="0 0 512 512" style="fill: #264066" xml:space="preserve"><g>\t<path d="M505.6,105.1c-6.3-14.8-16.7-27.3-29.8-36.2c-6.6-4.4-13.8-8-21.6-10.4c-7.7-2.4-16-3.7-24.5-3.7H82.3v0.1\t\tc-11.3,0-22.2,2.3-32,6.5C35.5,67.6,22.9,78,14.1,91.1c-4.4,6.6-8,13.8-10.4,21.6c-2.4,7.7-3.7,16-3.7,24.5v237.7\t\tc0,11.3,2.3,22.2,6.5,32c6.3,14.8,16.7,27.3,29.8,36.2c6.6,4.4,13.8,8,21.6,10.4c7.7,2.4,16,3.7,24.5,3.7h347.4\t\tc11.3,0,22.2-2.3,32-6.5c14.8-6.3,27.3-16.7,36.2-29.8c4.4-6.6,8-13.8,10.4-21.6c2.4-7.7,3.7-16,3.7-24.5V137.1\t\tC512.1,125.8,509.8,114.9,505.6,105.1z M40.2,119.3c3.5-8.2,9.3-15.2,16.6-20.1c3.7-2.5,7.7-4.4,11.9-5.7c4.3-1.3,8.8-2.1,13.6-2.1\t\tv0h347.4c6.4,0,12.3,1.3,17.8,3.6c8.2,3.5,15.2,9.3,20.1,16.6c2.5,3.7,4.4,7.7,5.7,11.9c1.3,4.3,2.1,8.8,2.1,13.6v11.5H36.6v-11.5\t\tC36.6,130.7,37.9,124.8,40.2,119.3z M471.8,392.6c-3.5,8.2-9.3,15.2-16.6,20.1c-3.7,2.5-7.7,4.4-11.9,5.7\t\tc-4.3,1.3-8.8,2.1-13.6,2.1H82.3c-6.4,0-12.3-1.3-17.8-3.6c-8.2-3.5-15.2-9.3-20.1-16.6c-2.5-3.7-4.4-7.7-5.7-11.9\t\tc-1.3-4.3-2.1-8.8-2.1-13.6V217.1h438.8v157.7C475.4,381.2,474.1,387.1,471.8,392.6z"/>\t<path d="M164.5,272.1h-54.9c-9,0-17.9,3.7-24.2,10c-6.4,6.4-10,15.2-10,24.2v22.9c0,9,3.7,17.9,10,24.2c6.4,6.4,15.2,10,24.2,10\t\th54.9c9,0,17.9-3.7,24.2-10c6.4-6.4,10-15.2,10-24.2v-22.9c0-9-3.7-17.9-10-24.2C182.4,275.8,173.5,272.1,164.5,272.1z"/></g></svg>':""}function Je(e){try{if(!e||!e.contact_info)return"";if(e.contact_info.address)return e.contact_info.address;for(var t="",r=Object.keys(e.contact_info),a=0;a<r.length;a++)r[a].includes("address")&&r[a]&&(t+=`${e.contact_info[r[a]]}`,["address4","address5"].includes(r[a])||(t+=", "));return t}catch(e){return console.error("FP::",e),""}}async function je(e,t,r,a,n){try{S(),y("delivery_holidays_requested","delivery_holidays",null,null);var i=function(e,t,r,a,n){try{var o={url:`${_fp.config.base_url_transaction}delivery_holidays/${e}`};return o.body={id:e,user_id:t,start_at:a,finish_at:n},r&&"none"!==r&&(o.url+=`/${r}`,delete o.body.id,delete o.body.user_id),o}catch(e){throw e}}(e,t,r,a,n),s=r&&"none"!==r?"PATCH":"POST";y("delivery_holidays_response","delivery_holidays",null,await o(s,i.url,JSON.stringify(i.body),0,"application/json;")),window.location.reload()}catch(e){return P(),T(e)}}function Ge(){try{if(_fp.user.purchases&&_fp.user.purchases.length>0){for(var e,t=0;t<_fp.user.purchases.length;t++)_fp.user.purchases[t].metered||(e=_fp.user.purchases[t]);e&&e.id&&!e.metered&&!e.free&&e.amount&&!!e.amount>0&&async function(){try{oe("member_center"),function(){try{var e=document.getElementById("fp-mc-card-edit");e&&(e.removeEventListener("click",tt,!1),e.addEventListener("click",tt,!1),e.type="show",e.card=_fp.user.cards&&_fp.user.cards.length>0?_fp.user.cards[0]:null);var t=document.getElementById("fp-mc-card-back");t&&(t.removeEventListener("click",tt,!1),t.addEventListener("click",tt,!1),t.type="hide",t.card=_fp.user.cards&&_fp.user.cards.length>0?_fp.user.cards[0]:null);for(var r=[{type:"click",query_type:"querySelector",query:"#fp-mc-delivery-address .fp-mc-pencil",method:Qe},{type:"keypress",query_type:"querySelector",query:"#fp-mc-delivery-address",method:Qe},{type:"click",query_type:"querySelector",query:"#fp-hd-add-delivery-holidays",method:Xe},{type:"click",query_type:"querySelector",query:".fp-hd-holidays-add-new",method:Xe}],a=0;a<r.length;a++){var n=r[a],o=document[n.query_type](n.query);if(o)if(o.length>0)for(var i=0;i<o.length;i++){var s=o[i];s.removeEventListener(n.type,n.method,!1),s.addEventListener(n.type,n.method,!1)}else o.removeEventListener(n.type,n.method,!1),o.addEventListener(n.type,n.method,!1)}var p=document.querySelector("div[data-fp-element='upgrade_subscription']");if(p){var c=_fp.user&&_fp.user.purchases&&_fp.user.purchases.length>0?_fp.user.purchases[0]:null;if(!c||!c.upgrade_prices||0===c.upgrade_prices.length)return void p.remove();var l=p.querySelector("div[data-fp-element='upgrade_subscription_options']");l&&(l.removeEventListener("click",We,!1),l.addEventListener("click",We,!1))}}catch(e){throw e}}()}catch(e){Ve(e)}}()}!function(){try{var e=document.getElementById("fp-mc-modal");e&&(e.setAttribute("aria-hidden","false"),e.style.display="block");var t=document.getElementById("fp-mc-logout");t&&t.addEventListener("click",a,!1);var r=document.querySelectorAll(".fp-mc-form");if(r&&r.length>0)for(var n=0;n<r.length;n++)r[n].addEventListener("submit",Ye,!1);var o=document.getElementById("fp-modal-mc-close");function p(e){for(var t=0;t<i.length;t++)i[t].classList.remove("active");e.currentTarget.classList.add("active"),e.preventDefault();var r=document.querySelectorAll(".fp-category-content");for(t=0;t<r.length;t++)r[t].classList.remove("active");var a=e.target.getAttribute("href"),n=document.querySelector(a);n&&n.classList.add("active")}o&&o.addEventListener("click",at,!1);for(var i=document.querySelectorAll(".fp-mc-categories-tabs .fp-cat-tab"),s=0;s<i.length;s++)i[s].addEventListener("click",p)}catch(c){throw c}}()}catch(e){Ve(e)}}async function Ye(e){try{if(e.preventDefault(),function(){try{var e=document.querySelector("#fp-mc-pwd-error");e&&(e.style.display="none")}catch(e){throw new Error(e)}}(),S(),this.dataset){var t=Object.fromEntries(new FormData(this));switch(this.dataset.type){case"general":await async function(e,t){try{return _fp.user&&_fp.user.access_token?await o("PATCH",_fp.config.base_url_transaction+`customers/me/${e}`,JSON.stringify(t)):Promise.resolve(null)}catch(e){throw T(e)}}("name",t),await I(!0);break;case"password":var r=function(e){try{var t=!0,r=[],a=e.password?e.password:e.new_password,n=e.password_confirm?e.password_confirm:e.confirm_password;if(!a)return;return a!==n&&(r.push("Password and confirm password does not match"),t=!1),a.length<8&&(r.push("Password should be at least 8 characters long"),t=!1),RegExp(/^(?=.*[!@#$%^&*])/u).test(a)||RegExp(/^(?=.*[0-9])/u).test(a)||(r.push("Password must contain numbers and symbols"),t=!1),{valid:t,error_messages:r}}catch(e){throw new Error(e)}}(t);if(!r.valid)throw r.error_messages;await async function(e){try{return _fp.config.auth_settings&&_fp.config.auth_settings.site&&(e.site=_fp.config.auth_settings.site),_fp.user&&_fp.user.access_token?await o("POST",_fp.config.original_authority+`/users/${e.customer_id}/change_password`,JSON.stringify(e)):Promise.resolve(null)}catch(e){throw T(e)}}(t);break;case"update_renewal_card":return void P()}k(null,"Changes successfully saved","success"),P()}}catch(e){Ve(e)}}function Ve(e){try{var t=function(e){try{var t=["Something went wrong, please try again later."];if(e&&Array.isArray(e)&&e.length>0)return e;var r=e.error?JSON.parse(e.error):JSON.parse(e);if(r){if(r.message&&Array.isArray(r.message)&&r.message.length>0)return r.message;var a=r.code?r.code:null;switch(a=a||r.id){case"limit_exceeded":t=["You reached retries limit, please try again later."];break;case"invalid_username_or_password":t=["You entered incorrect old password"];break;case"'{{customerId}}' is not valid.":t=["Old Password is incorrect"];break;default:t=["Something went wrong, please try again later."]}return t}}catch(e){return["Something went wrong, please try again later."]}}(e);if(!t||0===t.length)return;var r=document.querySelector("#fp-mc-pwd-error");if(r){for(var a="",n=0;n<t.length;n++)a+=`<p>${t[n]}</p>`;r.innerHTML=a,r.style.display="block"}P()}catch(e){throw P(),new Error(e)}}function We(){try{var e=document.getElementById("fp-update-plan-options");if(e){var t=e.classList.contains("fp-hidden")?"remove":"add";e.classList[t]("fp-hidden"),c=t,(l=document.querySelector("#fp-update-plan-wrap .fp-mc-chevron"))&&(l.parentElement.classList[c]("fp-toggled"),l.innerHTML=`<span>${"remove"===c?"&#8964;":"&#8963;"}</span>`);var r=e.querySelector("div[data-fp-element='upgrade-plans']");if(!r)return;var a="";if("remove"===t){var n=r.querySelector("label[data-fp-element='upgrade-plan']");if(n)for(var o=0;o<_fp.user.active_purchase.upgrade_prices.length;o++){var i=n.outerHTML,s=_fp.user.active_purchase.upgrade_prices[o];a+=i.fpPopulateTemplate("id",s.id).fpPopulateTemplate("checked",0===o?"checked":"").fpPopulateTemplate("name",s.name).fpPopulateTemplate("amount",s.amount).fpPopulateTemplate("currency",_(s.currency))}}else a="<label for='{{id}}' data-fp-element='upgrade-plan'><input id='{{id}}' type='radio' name='upgrade_plan_id' {{checked}}><span><div class='fp-up-name'>{{name}}</div><div class='fp-up-amount'>{{amount}}{{currency}}</div></span></label>";r.innerHTML=a;var p=document.querySelector(".fp-upgrade-subscription-submit");p&&(p.removeEventListener("click",Ze,!1),p.addEventListener("click",Ze,!1))}}catch(e){console.error("FP",e)}var c,l}async function Ze(){try{var e=document.querySelector("input[name='upgrade_plan_id']:checked");e&&(window.location.href=`${_fp.config.redirects.shopfront_main}?badge=upgrade&plan_action=upgrade&plan_id=${e.id}`)}catch(e){console.error(e)}}async function Ke(e){try{if(e.preventDefault(),!_fp.print_home_delivery.address)return;var t=_fp.user.active_purchase.contact_info;t.address=ue(_fp.print_home_delivery.address),t.address1=_fp.print_home_delivery.address.address_1,t.address2=_fp.print_home_delivery.address.address_2,t.address3=_fp.print_home_delivery.address.address_3,t.address4=_fp.print_home_delivery.address.address_4,t.post_code=_fp.print_home_delivery.address.post_code,S(),await async function(e,t){try{return o("PUT",_fp.config.base_url_transaction+"purchases/"+e+"/contact_info",JSON.stringify(t))}catch(e){throw e}}(_fp.user.active_purchase.id,t),window.location.reload()}catch(e){P(),console.error("FP::",e)}}function Qe(e){try{if(e.key)return void("Enter"===e.key&&e.preventDefault());function r(e){var t=document.getElementById("fp-submit-updated-address");if(t){var r="show"===e?"remove":"add";if(t.classList[r]("fp-hidden"),"show"===e){var a=t.querySelector("button");a&&(a.removeEventListener("click",Ke,!1),a.addEventListener("click",Ke,!1))}}}var t=document.querySelector("#fp-mc-delivery-address input");t&&(t.parentElement.classList.contains("edit")?(t.parentElement.classList.remove("edit"),t.disabled=!0,t.value=_fp.user.active_purchase&&_fp.user.active_purchase.contact_info?_fp.user.active_purchase.contact_info.address:"",e.currentTarget.innerHTML="<span>&#9999;</span>",r("hide")):(t.parentElement.classList.add("edit"),e.currentTarget.innerHTML="<span>&#x27A5;</span>",t.disabled=!1,t.value="",t.focus(),de(t),r("show")))}catch(a){console.error("FP:: fpHandlerDeliveryAddressChange",e)}}function Xe(e){try{function s(e){var t=e.getFullYear(),r=(1+e.getMonth()).toString();r=r.length>1?r:"0"+r;var a=e.getDate().toString();return`${t}-${r}-${a=a.length>1?a:"0"+a}`}et("add");var t=document.querySelector("#fp-delivery-holidays-edit");if(t){t.classList.remove("fp-hidden");var r=t.querySelector(".fp-mc-back");r&&r.addEventListener("click",(function(){et("remove")}),!1);var a={id:e.currentTarget.parentElement.dataset.id,start_at:new Date,finish_at:new Date};a.id&&((a=_fp.user.delivery_holidays.find((e=>e.id===a.id))).start_at=new Date(a.start_at),a.finish_at=new Date(a.finish_at));var n=document.querySelector("#fp-hd-holidays-start");n&&(n.value=s(a.start_at),n.min=s(new Date),n.addEventListener("change",(function(e){var t=document.querySelector("#fp-hd-holidays-finish");t&&t.value<e.currentTarget.value&&(t.value=e.currentTarget.value,t.min=e.currentTarget.value)}),!1));var o=document.querySelector("#fp-hd-holidays-finish");o&&(o.value=s(a.finish_at),o.min=s(a.start_at));var i=document.querySelector("#fp-submit-delivery-holidays button");i&&(i.id=a.id?a.id:"none",i.addEventListener("click",(async function(){var e=document.querySelector("#fp-delivery-holidays-error");e&&e.classList.add("fp-hidden");var t=document.querySelector("#fp-hd-holidays-start"),r=document.querySelector("#fp-hd-holidays-finish");if(t&&r){var a=await je(_fp.user.active_purchase.id,_fp.user.user_id,this.id,t.value,r.value);a&&a.message&&e&&(e.classList.remove("fp-hidden"),e.textContent=a.message)}}),!1))}}catch(p){console.error("FP:: fpHandlerDeliveryHolidays",p)}}function et(e){for(var t=["#fp-mc-delivery-holidays","#fp-delivery-holidays-edit","#fp-submit-delivery-holidays"],r=0;r<t.length;r++){var a=t[r],n=document.querySelector(a);if(n)if(0===r)n.classList[e]("fp-hidden");else{var o="add"===e?"remove":"add";n.classList[o]("fp-hidden")}}var i=document.querySelector("#fp-delivery-holidays-error");i&&i.classList.add("fp-hidden")}function tt(e){try{var t=e.currentTarget.type,r=t&&"show"===t?"add":"remove",a="add"===r?"remove":"add",n=document.querySelector(".fp-mc-existing-card");n&&n.classList[r]("fp-hidden");var o=document.querySelectorAll(".fp-card-details");if(o&&o.length>0)for(var i=0;i<o.length;i++)o[i].classList[a]("fp-hidden")}catch(e){throw e}}async function rt(e){try{if(e&&e.preventDefault(),!_fp.user||!_fp.user.access_token)return S(),void(window.location.href=_fp.config.redirect_url?_fp.config.redirect_url:"/");await I(!0);var t=!!_fp.config.member_center&&!!_fp.config.member_center.location_url&&document.location.href.includes(_fp.config.member_center.location_url),r=ze(),a=document.getElementById("fp-modal");if(a&&a.remove(),t)_fp.premium_wrapper.innerHTML=r,_fp.premium_wrapper.parentElement.classList.remove("fp-hidden");else{var o=function(){var e=document.getElementById("fp-mc-modal");if(!e){var t=M("member_center_wrapper");if(!t)return;t=t.fpPopulateTemplate("vendor_logo",_fp.config.vendor&&_fp.config.vendor.logo?_fp.config.vendor.logo:""),document.body.appendChild(w(t)),e=document.getElementById("fp-mc-modal")}return e}().querySelector("#fp-modal-mc-content");o&&(o.innerHTML=r)}Ge()}catch(e){n()}}function at(){var e=document.getElementById("fp-mc-modal");if(e&&(e.setAttribute("aria-hidden","true"),e.style.display="none",_fp.mc_elements)){var t=_fp.mc_elements.getElement("card");t&&t.destroy(),_fp.mc_card&&(_fp.mc_card=null)}}function nt(){_fp.premium_wrapper||(!_fp.premium_wrapper&&_fp.config.premium_content_by_query&&(_fp.premium_wrapper=document.querySelector(_fp.config.premium_content_by_query)),!_fp.premium_wrapper&&_fp.config.premium_content_by_id&&(_fp.premium_wrapper=document.getElementById(_fp.config.premium_content_by_id)),!_fp.premium_wrapper&&_fp.config.premium_content_by_class_name&&(_fp.premium_wrapper=document.getElementsByClassName(_fp.config.premium_content_by_class_name)[0]),_fp.premium_wrapper||_fp.config.member_center&&_fp.config.member_center.wrapper_id&&_fp.config.member_center.location_url&&document.location.href.includes(_fp.config.member_center.location_url)&&(_fp.premium_wrapper=document.getElementById(_fp.config.member_center.wrapper_id),_fp.premium_wrapper||(_fp.premium_wrapper=document.querySelector(`.${_fp.config.member_center.wrapper_class}`))))}async function ot(e){try{if(_fp.config.member_center&&_fp.config.member_center.location_url&&document.location.href.includes(_fp.config.member_center.location_url))return void rt();if(!_fp.premium_wrapper)return void(Oe()&&_fp.access_response&&_fp.access_response.access&&(nt(),_fp.premium_wrapper&&De()));if(_fp.access_response=_fp.access_response?_fp.access_response:s(`fp.access.${_fp.config.client_id}`),!e&&(!_fp.access_response||_fp.meta.is_premium_page||_fp.meta.is_metered_page&&_fp.config.auto_purchase||_fp.access_response.group_code!==_fp.config.item_group_code)){await $e();var t=_fp.access_response;t.group_code=_fp.config.item_group_code,i(`fp.access.${_fp.config.client_id}`,t,null)}var r=!!_fp.meta&&(_fp.meta.is_premium_page||_fp.meta.is_metered_page||_fp.meta.is_shopfront_page);if(!_fp.access_response||!r)return;_fp.access_response&&_fp.access_response.access&&!_fp.access_response.metered_paywall?(J(),p("fp.price_selected"),Oe()&&De()):_fp.access_response&&_fp.access_response.blocked?_fp.premium_wrapper.innerHTML=M("content_blocked"):_fp.meta&&_fp.meta.is_login_flow||(function(){try{var e=v("flow");if(!(v("registration")&&v("reg")||"subscribe"===e||_fp.user&&_fp.user.access_token))return void p("fp.price_selected");if(!_fp.selected_price_id&&_fp.user&&_fp.user.access_token){var t=s("fp.price_selected"),r=window.MEDIAHUIS&&window.MEDIAHUIS.config?window.MEDIAHUIS.config.article_id:encodeURIComponent(document.location.href);t&&t.article_id===r&&(_fp.selected_price_id=t.price_id),_fp.selected_price_id||(_fp.selected_price_id=window.sessionStorage.getItem("fp.selected_price"),window.sessionStorage.removeItem("fp.selected_price")),_fp.selected_price_id||(_fp.selected_price_id=v("price_id")?v("price_id"):null),_fp.selected_price=_fp.selected_price_id?g("id",_fp.selected_price_id,_fp.prices):null}_fp.selected_placeholder_price=_fp.selected_price&&_fp.selected_price.placeholder?g("id",_fp.selected_price_id,_fp.prices):null,_fp.selected_placeholder_price&&_fp.selected_placeholder_price.placeholder_prices&&_fp.selected_placeholder_price.placeholder_prices.length>0&&(_fp.prices=_fp.selected_placeholder_price.placeholder_prices)}catch(e){console.error("FP::",e)}}(),qe())}catch(e){J()}}function it(e){var t=_fp.premium_wrapper.children;if(_fp.config.teaser_content_by_query){var r=document.querySelector(_fp.config.teaser_content_by_query);t=r?r.children:null}if(t&&t.length>0){var a=st(t);return a||(a=st(_fp.premium_wrapper.textContent.split("\n\n"))),a?`<div class="fp-teaser">${a}</div>\n        <div id="fp-fadeout">\n            <style>\n                #fp-fadeout {\n                    position: relative;\n                    background: -webkit-linear-gradient(top, hsla(0, 0%, 100%, 0), hsla(0, 0%, 100%, .94) 70%);\n                    background: linear-gradient(180deg, hsla(0, 0%, 100%, 0) 0, hsla(0, 0%, 100%, .94) 70%);\n                    margin-top: -100px;\n                    width: 100%;\n                    height: 100px;\n                }\n            </style>\n        </div>\n    `:""}}function st(e){for(var t=0,r="",a=0;a<e.length;a++){var n,o=e[a];if(o&&"string"!=typeof o){var i=o.nodeName.toLowerCase(),s=!!o.querySelector("[data-advadstrackid]"),p=!!o.querySelector("style"),c=!!o.className.includes("td-post-featured-image"),l="header"===i,_=!!o.querySelector("p")||"p"===i;if(!l&&!c&&(!o||!_||p||s||"figure"===i))continue;if(c){var d=o.querySelector("img");d&&(d.style.opacity=1)}if(o.children&&o.children.length>2){n="";for(var u=0;u<=5;u++)n+=o.children[u]?o.children[u].outerHTML:""}else n=o.outerHTML}else{var f=document.createElement("p");f.textContent=o||null,n=f.outerHTML}if(t>2)break;r+=n||"",t++}return r}async function pt(){try{return _fp.browser_session_id||(_fp.browser_session_id=window.localStorage.getItem("fp.browser_session_id"),_fp.browser_session_id||(_fp.browser_session_id=f(),window.localStorage.setItem("fp.browser_session_id",_fp.browser_session_id))),function(){var e=!!_fp.config.non_premium_pages&&_fp.config.non_premium_pages.length>0&&!!_fp.config.non_premium_pages.find((e=>window.location.href.includes(e)));if(_fp.config.styles&&!e){var t=document.createElement("style");t.innerHTML=_fp.config.styles,document.getElementsByTagName("head")[0].appendChild(t)}if(_fp.config.vendor_styles){var r=document.createElement("style");r.innerHTML=_fp.config.vendor_styles,document.getElementsByTagName("head")[0].appendChild(r)}}(),_fp.auth_flow||(_fp.metadata=null,!_fp.premium_wrapper||_fp.config.metadata_forbiden||(_fp.metadata={premium_content:_fp.premium_wrapper.innerHTML,premium_content_teaser:it()}),function(){function e(e){var t=document.querySelectorAll(`.${e}`);if(t&&t.length>0)for(var r=0;r<t.length;r++)t[r].style.display="none"}var t=document.getElementById("fp-premium-content-spinner");if(t&&t.remove(),_fp.config.classes_to_hide&&_fp.config.classes_to_hide.length>0)for(var r=0;r<_fp.config.classes_to_hide.length;r++)e(_fp.config.classes_to_hide[r])}()),await ot()}catch(e){n(0,e)}}async function ct(r){try{if(_fp.config=Object.assign(e,t),function(e){var t,r=e||window.flipPayConfig;if(e?t=Object.keys(e):window.flipPayConfig&&(t=Object.keys(window.flipPayConfig)),t&&t.length>0)for(var a of t)"member_center_url"===a?(_fp.config.member_center=_fp.config.member_center?_fp.config.member_center:{},_fp.config.member_center.location_url=r[a]):"stripe_publishable_key"===a?_fp.config.payment_provider.key=r[a]:"terms_of_use_url"===a?(_fp.config.member_center=_fp.config.member_center?_fp.config.member_center:{},_fp.config.member_center.terms_of_use_url=r[a]):a.includes("template_")?(_fp.config.templates=_fp.config.templates?_fp.config.templates:{},_fp.config.templates[a]=r[a]):_fp.config[a]=r[a]}(r),dt(),nt(),_fp.subscription_status_promise){var a=await _fp.subscription_status_promise;_fp.subscription_status_promise=null;var o="metered"===a.response.flow_type&&(a.group_code!==_fp.config.item_group_code||a.auto_purchase!==_fp.config.auto_purchase);if(a.response&&!o)return ft(a.response),a.response}if(!_fp.user||!_fp.user.access_token)if(s("_mh_uich")){var i=s(`fp.user.${_fp.config.client_id}`);i&&(_fp.user=i)}else await _t();return await pt(),$(),ut(_fp.access_response)}catch(e){n()}}async function lt(r,a,n,c,l,_){try{if(!r)throw new Error("FP:: One or more required parameters are missing - ['UID']");_fp.config||(_fp.config=Object.assign(e,t),_fp.config.item_group_code=_||_fp.config.item_group_code);var d,u=function(){try{var e=null,t=s("_mh_uich");return t&&(e=JSON.parse(atob(t))),e}catch(e){return null}}();u&&(_fp.config.auto_purchase=!!u.isMeteredProfileComplete);var f={response:null,group_code:_,auto_purchase:!!_fp.config.auto_purchase};_fp.subscription_status_promise=new Promise((e=>d=e)),_fp.processing=!0,dt(),await async function(e,t,r,a,n){try{if(_fp.user=s(`fp.user.${_fp.config.client_id}`),_fp.user=_fp.user?_fp.user:{},!_fp.user.access_token||_fp.user.UID!==e||_fp.user.access_token&&new Date(_fp.user.at_expiry_date)<new Date){_fp.user.UID=e,_fp.user.UIDSignature=t,_fp.user.signatureTimestamp=r,_fp.user.provider=a,_fp.user.providerUID=n,_fp.user.flip_pay_auth_status=null;var p=await async function(){try{var e=_fp.config.original_authority+"/gigya?uid="+_fp.user.UID+"&uidSignature="+encodeURIComponent(_fp.user.UIDSignature)+"&signatureTimestamp="+_fp.user.signatureTimestamp+"&provider="+_fp.user.provider+"&providerId="+_fp.user.providerUID+"&clientId="+_fp.config.client_id+"&dt="+(new Date).getTime();return await o("GET",e)}catch(e){return null}}();if(p){function c(e){var t=Date.now();return new Date(t+=e||604800)}_fp.user.access_token=p.access_token,_fp.user.at_expiry_date=c(p.expires_in),i(`fp.user.${_fp.config.client_id}`,_fp.user)}}}catch(l){throw l}}(r,a,n,c,l);var m=await async function(e){try{if(_fp.access_response=_fp.access_response?_fp.access_response:s(`fp.access.${_fp.config.client_id}`),!_fp.access_response||_fp.meta.is_premium_page||_fp.meta.is_metered_page||_fp.user&&_fp.access_response.user_uid!==_fp.user.UID){var t=_fp.config.auto_purchase?JSON.parse(JSON.stringify(_fp.config.auto_purchase)):null;if(await $e(),_fp.access_response){_fp.access_response.group_code=e,p(`fp.access.${_fp.config.client_id}`);var r={};r.access=_fp.access_response.access,r.subscription=_fp.access_response.subscription,r.user_uid=_fp.user.UID,r.granted_by_purchase=_fp.access_response.granted_by_purchase,r.granted_by_app_purchase=_fp.access_response.granted_by_app_purchase,r.granted_by_corporate_account=_fp.access_response.granted_by_corporate_account,r.granted_by_whitelist_rule=_fp.access_response.granted_by_whitelist_rule,r.granted_by_google_showcase=_fp.access_response.granted_by_google_showcase,r.granted_by_metered=_fp.access_response.granted_by_metered,r.group_code=e,r.auto_purchase=t,i(`fp.access.${_fp.config.client_id}`,r,null)}}return _fp.access_response?ut(_fp.access_response):{has_subscription:!1,has_access:!1,finish_at:null,sku_code:null}}catch(e){throw e}}(_);return m.has_subscription&&!Oe()||ot(!0),$(),f.response=m,d(f),ft(m),m}catch(e){throw _t(),e}}async function _t(){return new Promise(((e,t)=>{try{var r=(o=document.cookie.split("; ").map((e=>e.split("="))),Object.fromEntries(o)),a=r?Object.keys(r):null;if(a&&a.length>0)for(var n=0;n<a.length;n++)a[n].includes("fp.")&&!a[n].includes("fp.price_selected")&&(console.log(a[n]),p(a[n]));["price.selected"].forEach((e=>p(e))),y("log_out",null,null),e(!0)}catch(e){console.error("FP::Error",e),t(e)}var o}))}function dt(){try{_fp.meta=_fp.meta?_fp.meta:{},_fp.meta.is_new_purchase=!!s("fp.new_purchase"),_fp.meta.is_premium_page=!window.MEDIAHUIS||!window.MEDIAHUIS.config||!!window.MEDIAHUIS.config.page_secure,_fp.meta.is_metered_page=!(!window.MEDIAHUIS||!window.MEDIAHUIS.config||!window.MEDIAHUIS.config.page_metered),_fp.meta.is_shopfront_page=c()}catch(e){_fp.meta={}}}function ut(e){try{function n(e){try{if(e.granted_by_purchase)return e.metered_paywall&&e.metered_paywall_items_used<=e.metered_paywall_items_limit?"granted_by_metered":"granted_by_purchase";if(e.granted_by_app_purchase)return"granted_by_app_purchase";if(e.granted_by_corporate_account)return"granted_by_corporate_account";if(e.granted_by_whitelist_rule)return"granted_by_whitelist_rule";if(e.granted_by_google_showcase)return"granted_by_google_showcase"}catch(e){return"unknown"}}var t={has_subscription:e.subscription,has_access:e.access,finish_at:null,sku_code:null,flow_type:"paywall"};t.has_subscription||(t.has_subscription=!!e.access&&!!e.granted_by_whitelist_rule);var r=e.granted_by_purchase?e.granted_by_purchase:e.granted_by_app_purchase?e.granted_by_app_purchase:null;r&&(t.user_id=r.user_id,t.finish_at=r.finish_at,t.start_at=r.start_at,t.sku_code=r.sku_code,t.badge_text=r.badge_text),(t.has_subscription||t.has_access)&&(t.access_granted_by=n(e)),e.access&&e.metered_paywall&&(t.has_access=!!_fp.config.auto_purchase),t.flow_type="paywall";var a=Le();return a&&(_fp.meta=_fp.meta?_fp.meta:{},_fp.meta.flow_type=a,t.flow_type=a),"metered"===t.flow_type&&(t.wall_type=we()),t}catch(o){return{has_subscription:!1,has_access:!1,finish_at:null,sku_code:null}}}function ft(e){try{if(e&&(e.has_subscription||e.has_access)){var t=document.querySelector("#flip-pay");t&&t.querySelector("[id^='flip-pay-price-']")&&(t.innerHTML="")}}catch(e){throw e}}!function(){async function e(){try{!async function(){try{window.flipPay||(window.flipPay={signOut:_t,GetSubscriptionStatus:lt,ShowPaywall:ct})}catch(e){throw e}}()}catch(e){n(0,e)}}window._fp=window._fp?window._fp:{},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}()})();