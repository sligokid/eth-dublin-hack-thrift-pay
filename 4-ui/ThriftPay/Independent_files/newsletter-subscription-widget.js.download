define(["../helpers/is-email"],function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e);document.querySelectorAll(".widget.newsletter-subscription").forEach(function(e){function r(e){if(e.preventDefault(),!(0,t.default)(o.value))return o.style.border="1px solid red",void(l.style.display="block");o.style.border="none",l.style.display="none";var r=new FormData;r.append("ecemail",o.value),fetch(n,{method:"POST",body:r}).then(function(){requestAnimationFrame(function(){u.style.display="none",c.style.display="block"})}).catch(function(e){return e})}var n=e.dataset.subscribeUrl,o=e.querySelector(".content form .email-wrapper .form-input"),i=e.querySelector(".content form .button"),l=e.querySelector(".content form .email-wrapper .invalid"),c=e.querySelector(".content .confirmation-wrapper"),u=e.querySelector(".content form.subscribe-form");o&&i&&i.addEventListener("click",function(e){return r(e)})})});